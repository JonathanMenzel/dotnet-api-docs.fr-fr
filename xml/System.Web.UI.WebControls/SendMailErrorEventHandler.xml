<Type Name="SendMailErrorEventHandler" FullName="System.Web.UI.WebControls.SendMailErrorEventHandler">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="9b3e329efd01ede5b0c453486b17b70304f19317" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="fr-FR" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
    <Meta Name="ms.locfileid" Value="30596453" />
  </Metadata>
  <TypeSignature Language="C#" Value="public delegate void SendMailErrorEventHandler(object sender, SendMailErrorEventArgs e);" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed SendMailErrorEventHandler extends System.MulticastDelegate" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.SendMailErrorEventHandler" />
  <TypeSignature Language="VB.NET" Value="Public Delegate Sub SendMailErrorEventHandler(sender As Object, e As SendMailErrorEventArgs)" />
  <TypeSignature Language="C++ CLI" Value="public delegate void SendMailErrorEventHandler(System::Object ^ sender, SendMailErrorEventArgs ^ e);" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Delegate</BaseTypeName>
  </Base>
  <Parameters>
    <Parameter Name="sender" Type="System.Object" />
    <Parameter Name="e" Type="System.Web.UI.WebControls.SendMailErrorEventArgs" />
  </Parameters>
  <ReturnValue>
    <ReturnType>System.Void</ReturnType>
  </ReturnValue>
  <Docs>
    <param name="sender">Source de l'événement.</param>
    <param name="e">Objet <see cref="T:System.Web.UI.WebControls.SendMailErrorEventArgs" /> qui contient les données d'événement.</param>
    <summary>Représente la méthode qui gère l'événement <see langword="SendMailError" /> des contrôles tels que le contrôle <see cref="T:System.Web.UI.WebControls.ChangePassword" />, le contrôle <see cref="T:System.Web.UI.WebControls.CreateUserWizard" /> et le contrôle <see cref="T:System.Web.UI.WebControls.PasswordRecovery" />.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Lorsque vous créez un délégué <xref:System.Web.UI.WebControls.SendMailErrorEventHandler>, vous identifiez la méthode qui gérera l'événement. Pour associer l’événement avec le Gestionnaire d’événements, ajoutez une instance du délégué à l’événement. Le Gestionnaire d’événements est appelé chaque fois que l’événement se produit, sauf si vous supprimez le délégué de l’événement. Pour plus d’informations sur les délégués de gestionnaires d’événements, consultez [gestion des événements serveur dans les Pages Web Forms ASP.NET](http://msdn.microsoft.com/library/765bfc89-33ee-4d0d-bbe6-3b172c06def9).  
  
 Gère la `SendMailError` événement permet à votre application Web continuer à fonctionner, même si une exception se produit lorsque vous tentez d’envoyer un message électronique. Par exemple, cela est utile si l’exception se produit lorsqu’un utilisateur parcourt un Assistant à plusieurs étapes. Il est préférable d’enregistrer l’erreur, afficher un message d’information à l’utilisateur et autoriser l’utilisateur à terminer l’Assistant au lieu de mettre fin à l’application.  
  
 Si vous ne créez pas de gestionnaire d’événements pour le <xref:System.Web.UI.WebControls.ChangePassword.SendMailError> événement, ou si vous créez un gestionnaire d’événements, tout en conservant le <xref:System.Web.UI.WebControls.SendMailErrorEventArgs.Handled%2A> propriété `false`, votre application Web cessent de s’exécuter si une erreur se produit lors de l’envoi d’un message électronique, et ASP.NET sera afficher un message d’erreur.  
  
 Le <xref:System.Web.UI.WebControls.ChangePassword.OnSendMailError%2A> méthode autorise également les classes dérivées de gérer l’événement à la place de la <xref:System.Web.UI.WebControls.SendMailErrorEventHandler>. Ceci est la méthode recommandée pour gérer l’événement dans une classe dérivée de <xref:System.Web.UI.WebControls.ChangePassword> ou <xref:System.Web.UI.WebControls.CreateUserWizard>.  
  
 Pour plus d’informations sur la gestion des événements, consultez [gestion des événements serveur dans les Pages Web Forms ASP.NET](http://msdn.microsoft.com/library/765bfc89-33ee-4d0d-bbe6-3b172c06def9).  
  
   
  
## Examples  
 L’exemple de code suivant montre une page ASP.NET qui utilise un <xref:System.Web.UI.WebControls.ChangePassword> contrôle Web et inclut un gestionnaire d’événements pour le <xref:System.Web.UI.WebControls.ChangePassword.SendMailError> événement nommé `SendMailError`. L’exemple de code suppose que le site Web ASP.NET a été configuré pour utiliser l’appartenance d’ASP.NET et l’authentification par formulaire, et qu’un utilisateur dont le nom et mot de passe vous connaissez l’a été créé. Pour plus d’informations, consultez [Comment : implémenter l’authentification par formulaire Simple](http://msdn.microsoft.com/library/9522bc8d-1a41-480a-aa11-c389a4ac2d2e).  
  
 Si la modification du mot de passe réussit, le code tente d’utiliser le protocole SMTP pour envoyer un message électronique à l’utilisateur à confirmer la modification. Cette opération est effectuée le `SendingMail` Gestionnaire d’événements. Pour plus d’informations sur la façon de configurer un serveur SMTP, consultez [NIB : Comment : installer et configurer les serveurs virtuels SMTP dans IIS 6.0](http://msdn.microsoft.com/library/ed204b58-24af-47d0-9687-60e5df5f17f8). Dans le cadre de cet exemple, il n’est pas nécessaire de configurer un serveur SMTP. l’exemple est construit pour tester un échec d’envoi d’un message électronique.  
  
 Si un serveur de messagerie n’est pas configuré correctement ou une autre erreur se produit et le message électronique ne peut pas être envoyé, le `SendMailError` est appelée. Un message s’affiche à l’utilisateur. En outre, un événement est consigné dans le journal des événements Windows en partant du principe qu’une source d’événements nommée MySamplesSite déjà existe. Consultez l’exemple de code ci-dessous pour créer la source d’événement spécifié. Pour plus d’informations sur la création d’une source d’événements, consultez [gestion des événements serveur dans les Pages Web Forms ASP.NET](http://msdn.microsoft.com/library/765bfc89-33ee-4d0d-bbe6-3b172c06def9). Le <xref:System.Web.UI.WebControls.SendMailErrorEventArgs.Handled%2A> propriété de la <xref:System.Web.UI.WebControls.SendMailErrorEventArgs> objet a la valeur `true` pour indiquer que l’erreur a été gérée.  
  
 [!code-aspx-csharp[System.Web.UI.WebControls.SendMailErrorEventHandler#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.UI.WebControls.SendMailErrorEventHandler/CS/changepassword_cs.aspx#1)]
 [!code-aspx-vb[System.Web.UI.WebControls.SendMailErrorEventHandler#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.UI.WebControls.SendMailErrorEventHandler/VB/changepassword_vb.aspx#1)]  
  
 Utilisez l’exemple de code suivant si vous avez besoin ajouter par programmation la source d’événements nommée MySamplesSite au journal des applications. Cette source d’événements doit exister pour le premier exemple de code fonctionne correctement. L’exemple de code suivant nécessite des privilèges d’administrateur.  
  
 [!code-csharp[System.Diagnostics.EventLog.CreateEventSource#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Diagnostics.EventLog.CreateEventSource/CS/createeventsource.cs#1)]
 [!code-vb[System.Diagnostics.EventLog.CreateEventSource#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Diagnostics.EventLog.CreateEventSource/VB/createeventsource.vb#1)]  
  
 ]]></format>
    </remarks>
    <altmember cref="E:System.Web.UI.WebControls.CreateUserWizard.SendMailError" />
    <altmember cref="E:System.Web.UI.WebControls.ChangePassword.SendMailError" />
    <altmember cref="E:System.Web.UI.WebControls.PasswordRecovery.SendMailError" />
    <altmember cref="T:System.Net.Mail.MailMessage" />
    <altmember cref="T:System.Web.Mail.SmtpMail" />
  </Docs>
</Type>