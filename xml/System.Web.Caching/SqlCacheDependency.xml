<Type Name="SqlCacheDependency" FullName="System.Web.Caching.SqlCacheDependency">
  <Metadata><Meta Name="ms.openlocfilehash" Value="36e9936c9aee5b604fb6b7941f1eae8430c5b9e8" /><Meta Name="ms.sourcegitcommit" Value="2dd0eede6edd6dd3d2aa8f79010848658b967609" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="fr-FR" /><Meta Name="ms.lasthandoff" Value="04/18/2019" /><Meta Name="ms.locfileid" Value="58874863" /></Metadata><TypeSignature Language="C#" Value="public sealed class SqlCacheDependency : System.Web.Caching.CacheDependency" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit SqlCacheDependency extends System.Web.Caching.CacheDependency" />
  <TypeSignature Language="DocId" Value="T:System.Web.Caching.SqlCacheDependency" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class SqlCacheDependency&#xA;Inherits CacheDependency" />
  <TypeSignature Language="C++ CLI" Value="public ref class SqlCacheDependency sealed : System::Web::Caching::CacheDependency" />
  <TypeSignature Language="F#" Value="type SqlCacheDependency = class&#xA;    inherit CacheDependency" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Web.Caching.CacheDependency</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="21caa-101">Établit une relation entre un élément stocké dans l’objet <see cref="T:System.Web.Caching.Cache" /> d’une application ASP.NET et une table de base de données SQL Server spécifique ou les résultats d’une requête SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="21caa-101">Establishes a relationship between an item stored in an ASP.NET application's <see cref="T:System.Web.Caching.Cache" /> object and either a specific SQL Server database table or the results of a SQL Server 2005 query.</span></span> <span data-ttu-id="21caa-102">Cette classe ne peut pas être héritée.</span><span class="sxs-lookup"><span data-stu-id="21caa-102">This class cannot be inherited.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="21caa-103">Sur toutes les versions de SQL Server (Microsoft SQL Server 7.0, Microsoft SQL Server 2000 et SQL Server 2005) qui sont prises en charge la <xref:System.Web.Caching.SqlCacheDependency> classe surveille une table de base de données SQL Server spécifique.</span><span class="sxs-lookup"><span data-stu-id="21caa-103">On all supported versions of SQL Server (Microsoft SQL Server 7.0, Microsoft SQL Server 2000, and SQL Server 2005) the <xref:System.Web.Caching.SqlCacheDependency> class monitors a specific SQL Server database table.</span></span> <span data-ttu-id="21caa-104">Lorsque la table changent, les éléments associés à la table sont supprimés de la <xref:System.Web.Caching.Cache>, et une nouvelle version de l’élément est ajoutée à la <xref:System.Web.Caching.Cache>.</span><span class="sxs-lookup"><span data-stu-id="21caa-104">When the table changes, items associated with the table are removed from the <xref:System.Web.Caching.Cache>, and a new version of the item is added to the <xref:System.Web.Caching.Cache>.</span></span>  
  
 <span data-ttu-id="21caa-105">Le <xref:System.Web.Caching.SqlCacheDependency> classe prend également en charge l’intégration avec le <xref:System.Data.SqlClient.SqlDependency?displayProperty=nameWithType> classe lorsque vous utilisez un [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] base de données.</span><span class="sxs-lookup"><span data-stu-id="21caa-105">The <xref:System.Web.Caching.SqlCacheDependency> class also supports integration with the <xref:System.Data.SqlClient.SqlDependency?displayProperty=nameWithType> class when using a [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] database.</span></span> <span data-ttu-id="21caa-106">Le mécanisme de notification de requête de [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] détecte les modifications apportées aux données qui invalident les résultats d’une requête SQL et supprime les mises en cache les éléments associés à la requête SQL à partir de la <xref:System.Web.Caching.Cache?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="21caa-106">The query notification mechanism of [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] detects changes to data that invalidate the results of an SQL query and removes any cached items associated with the SQL query from the <xref:System.Web.Caching.Cache?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="21caa-107">Vous pouvez utiliser la <xref:System.Web.Caching.SqlCacheDependency> classe pour ajouter des éléments de votre application <xref:System.Web.Caching.Cache> qui sont dépendants sur une table de base de données de SQL Server ou sur une requête SQL lors de l’utilisation [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)].</span><span class="sxs-lookup"><span data-stu-id="21caa-107">You can use the <xref:System.Web.Caching.SqlCacheDependency> class to add items to your application's <xref:System.Web.Caching.Cache> that are dependent on either a SQL Server database table or on an SQL query when using [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)].</span></span> <span data-ttu-id="21caa-108">Vous pouvez également utiliser cette classe avec la directive pour rendre une page mise en cache de sortie ou un contrôle utilisateur dépendant d’une table de base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="21caa-108">You can also use this class with the  directive to make an output-cached page or a user control dependent on a SQL Server database table.</span></span> <span data-ttu-id="21caa-109">Enfin, vous pouvez utiliser la <xref:System.Web.Caching.SqlCacheDependency> classe avec la directive de page pour rendre une page de sortie mise en cache dépendante des résultats d’une requête SQL lors de l’utilisation [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)].</span><span class="sxs-lookup"><span data-stu-id="21caa-109">Finally, you can use the <xref:System.Web.Caching.SqlCacheDependency> class with the  page directive to make an output-cached page dependent on the results of an SQL query when using [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)].</span></span> <span data-ttu-id="21caa-110">Notification de requête à l’aide [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] n’est pas pris en charge sur la directive pour les contrôles utilisateur.</span><span class="sxs-lookup"><span data-stu-id="21caa-110">Query notification using [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] is not supported on the  directive for user controls.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="21caa-111">Pour cette classe fonctionne correctement lors de l’utilisation de notifications basées sur une table, la base de données et toutes les tables que vous souhaitez rendre les dépendances sur les notifications doivent être activées.</span><span class="sxs-lookup"><span data-stu-id="21caa-111">For this class to work correctly when using table-based notifications, the database and any tables that you want to make dependencies on must have notifications enabled.</span></span> <span data-ttu-id="21caa-112">Vous pouvez activer les notifications en appelant des méthodes de la <xref:System.Web.Caching.SqlCacheDependencyAdmin> classe ou en utilisant l’outil de ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="21caa-112">You can enable notifications by calling methods of the <xref:System.Web.Caching.SqlCacheDependencyAdmin> class or by using the  command-line tool.</span></span> <span data-ttu-id="21caa-113">En outre, les paramètres de configuration appropriée doivent être inclus dans le fichier Web.config de l’application.</span><span class="sxs-lookup"><span data-stu-id="21caa-113">In addition, the proper configuration settings must be included in the application's Web.config file.</span></span>  
>   
>  <span data-ttu-id="21caa-114">À l’aide un <xref:System.Web.Caching.SqlCacheDependency> avec l’objet [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] requête de notification ne nécessite aucune configuration explicite.</span><span class="sxs-lookup"><span data-stu-id="21caa-114">Using a <xref:System.Web.Caching.SqlCacheDependency> object with [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] query notification does not require any explicit configuration.</span></span> <span data-ttu-id="21caa-115">Consultez le [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] la documentation en ligne pour plus d’informations sur les restrictions sur les types de requêtes Transact-SQL qui sont autorisés lors de l’utilisation de notification de requête.</span><span class="sxs-lookup"><span data-stu-id="21caa-115">Consult the [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] Books Online for information about restrictions on the types of Transact-SQL queries that are allowed when using query notification.</span></span>  
  
 <span data-ttu-id="21caa-116">L’exemple suivant montre un fichier Web.config ASP.NET qui active des dépendances de table basée sur une table de base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="21caa-116">The following example shows an ASP.NET Web.config file that enables table-based dependencies on a SQL Server database table.</span></span>  
  
```  
<configuration>  
  <connectionStrings>  
    <add name="Northwind" connectionString="Data Source=(local); Initial Catalog=northwind; Integrated Security=true"; providerName="System.Data.SqlClient" />  
  </connectionStrings>  
  <system.web>  
    <caching>  
      <sqlCacheDependency enabled = "true" pollTime = "60000" >  
        <databases>  
          <add name="northwind"   
            connectionStringName="Northwind"  
            pollTime="9000000"  
            />  
        </databases>  
      </sqlCacheDependency>  
    </caching>  
  </system.web>  
</configuration>  
```  
  
   
  
## Examples  
 <span data-ttu-id="21caa-117">Le code suivant exemple utilise le <xref:System.Web.UI.WebControls.SqlDataSource> et <xref:System.Web.UI.WebControls.GridView> contrôles pour afficher une table de base de données.</span><span class="sxs-lookup"><span data-stu-id="21caa-117">The following code example uses the <xref:System.Web.UI.WebControls.SqlDataSource> and <xref:System.Web.UI.WebControls.GridView> controls to display a database table.</span></span> <span data-ttu-id="21caa-118">Lorsque la page est chargée, la page tente de créer un <xref:System.Web.Caching.SqlCacheDependency> objet.</span><span class="sxs-lookup"><span data-stu-id="21caa-118">When the page is loaded, the page attempts to create a <xref:System.Web.Caching.SqlCacheDependency> object.</span></span> <span data-ttu-id="21caa-119">Après le <xref:System.Web.Caching.SqlCacheDependency> objet est créé, la page ajoute un élément à la `Cache` avec une dépendance sur le <xref:System.Web.Caching.SqlCacheDependency> objet.</span><span class="sxs-lookup"><span data-stu-id="21caa-119">After the <xref:System.Web.Caching.SqlCacheDependency> object is created, the page adds an item to the `Cache` with a dependency on the <xref:System.Web.Caching.SqlCacheDependency> object.</span></span> <span data-ttu-id="21caa-120">Vous devez utiliser des exceptions similaire à celle illustrée ici.</span><span class="sxs-lookup"><span data-stu-id="21caa-120">You should use exception handling similar to that shown here.</span></span>  
  
 [!code-aspx-csharp[CachingSamples_SqlCacheDependency#1](~/samples/snippets/csharp/VS_Snippets_WebNet/CachingSamples_SqlCacheDependency/CS/sqlcachedepsamplecs.aspx#1)]
 [!code-aspx-vb[CachingSamples_SqlCacheDependency#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/CachingSamples_SqlCacheDependency/VB/sqlcachedepsamplevb.aspx#1)]
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Web.Caching.SqlCacheDependencyAdmin" />
    <related type="Article" href="https://msdn.microsoft.com/library/206f977d-7860-4d20-bdd5-c3b3d8479f3d(v=vs.100)"><span data-ttu-id="21caa-121">La mise en cache des données d’Application</span><span class="sxs-lookup"><span data-stu-id="21caa-121">Caching Application Data</span></span></related>
  </Docs>
  <Members>
    <MemberGroup MemberName=".ctor">
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="21caa-122">Initialise une nouvelle instance de la classe <see cref="T:System.Web.Caching.SqlCacheDependency" />.</span><span class="sxs-lookup"><span data-stu-id="21caa-122">Initializes a new instance of the <see cref="T:System.Web.Caching.SqlCacheDependency" /> class.</span></span></summary>
        <altmember cref="T:System.Web.Caching.SqlCacheDependencyAdmin" />
        <related type="Article" href="https://msdn.microsoft.com/library/206f977d-7860-4d20-bdd5-c3b3d8479f3d(v=vs.100)"><span data-ttu-id="21caa-123">La mise en cache des données d’Application</span><span class="sxs-lookup"><span data-stu-id="21caa-123">Caching Application Data</span></span></related>
      </Docs>
    </MemberGroup>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlCacheDependency (System.Data.SqlClient.SqlCommand sqlCmd);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.Data.SqlClient.SqlCommand sqlCmd) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Caching.SqlCacheDependency.#ctor(System.Data.SqlClient.SqlCommand)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (sqlCmd As SqlCommand)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlCacheDependency(System::Data::SqlClient::SqlCommand ^ sqlCmd);" />
      <MemberSignature Language="F#" Value="new System.Web.Caching.SqlCacheDependency : System.Data.SqlClient.SqlCommand -&gt; System.Web.Caching.SqlCacheDependency" Usage="new System.Web.Caching.SqlCacheDependency sqlCmd" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="sqlCmd" Type="System.Data.SqlClient.SqlCommand" />
      </Parameters>
      <Docs>
        <param name="sqlCmd"><span data-ttu-id="21caa-124"><see cref="T:System.Data.SqlClient.SqlCommand" /> utilisée pour créer un objet <see cref="T:System.Web.Caching.SqlCacheDependency" />.</span><span class="sxs-lookup"><span data-stu-id="21caa-124">A <see cref="T:System.Data.SqlClient.SqlCommand" /> that is used to create a <see cref="T:System.Web.Caching.SqlCacheDependency" /> object.</span></span></param>
        <summary><span data-ttu-id="21caa-125">Initialise une nouvelle instance de la classe <see cref="T:System.Web.Caching.SqlCacheDependency" />, à l'aide de la <see cref="T:System.Data.SqlClient.SqlCommand" /> fournie pour créer une dépendance de clé de cache.</span><span class="sxs-lookup"><span data-stu-id="21caa-125">Initializes a new instance of the <see cref="T:System.Web.Caching.SqlCacheDependency" /> class, using the supplied <see cref="T:System.Data.SqlClient.SqlCommand" /> to create a cache-key dependency.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="21caa-126">Ce constructeur est utilisé pour créer <xref:System.Web.Caching.SqlCacheDependency> les objets qui utilisent la fonctionnalité de notification de requête de [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] produits.</span><span class="sxs-lookup"><span data-stu-id="21caa-126">This constructor is used to create <xref:System.Web.Caching.SqlCacheDependency> objects that use the query-notification feature of [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] products.</span></span>  
  
 <span data-ttu-id="21caa-127">Les instructions SQL qui sont associées les `sqlCmd` paramètre doit inclure les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="21caa-127">SQL statements that are associated with the `sqlCmd` parameter must include the following:</span></span>  
  
-   <span data-ttu-id="21caa-128">Noms de table qualifié complet, y compris le nom du propriétaire de la table.</span><span class="sxs-lookup"><span data-stu-id="21caa-128">Fully qualified table names, including the name of the table owner.</span></span> <span data-ttu-id="21caa-129">Par exemple, pour faire référence à une table nommée Customers qui est possédée par le propriétaire de la base de données, l’instruction SQL doit faire référence à `dbo.customers`.</span><span class="sxs-lookup"><span data-stu-id="21caa-129">For example, to refer to a table named Customers that is owned by the database owner, the SQL statement must refer to `dbo.customers`.</span></span>  
  
-   <span data-ttu-id="21caa-130">Noms de colonnes explicite dans l’instruction Select.</span><span class="sxs-lookup"><span data-stu-id="21caa-130">Explicit column names in the Select statement.</span></span> <span data-ttu-id="21caa-131">Vous ne pouvez pas utiliser le caractère générique astérisque (\*) pour sélectionner toutes les colonnes d’une table.</span><span class="sxs-lookup"><span data-stu-id="21caa-131">You cannot use the asterisk (\*) wildcard character to select all columns from a table.</span></span> <span data-ttu-id="21caa-132">Par exemple, au lieu de `select * from dbo.customers`, vous devez utiliser `select name, address, city, state from dbo.customers`.</span><span class="sxs-lookup"><span data-stu-id="21caa-132">For example, instead of `select * from dbo.customers`, you must use `select name, address, city, state from dbo.customers`.</span></span>  
  
 <span data-ttu-id="21caa-133">Ce constructeur ne peut pas être utilisé pour associer un <xref:System.Data.SqlClient.SqlCommand> instance avec un <xref:System.Web.Caching.SqlCacheDependency> instance sur une page à l’aide [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] notifications avec la mise en cache de sortie au niveau de la page de requête.</span><span class="sxs-lookup"><span data-stu-id="21caa-133">This constructor cannot be used to associate a <xref:System.Data.SqlClient.SqlCommand> instance with a <xref:System.Web.Caching.SqlCacheDependency> instance on a page using [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] query notifications with page-level output caching.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="21caa-134">Le paramètre <paramref name="sqlCmd" /> a la valeur <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="21caa-134">The <paramref name="sqlCmd" /> parameter is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="21caa-135">La propriété <see cref="P:System.Data.SqlClient.SqlCommand.NotificationAutoEnlist" /> de l’instance <see cref="T:System.Data.SqlClient.SqlCommand" /> a la valeur <see langword="true" /> et il existe une directive dans la page avec l’attribut <see langword="SqlDependency" /> dont la valeur est <c>CommandNotification</c>.</span><span class="sxs-lookup"><span data-stu-id="21caa-135">The <see cref="T:System.Data.SqlClient.SqlCommand" /> instance has its <see cref="P:System.Data.SqlClient.SqlCommand.NotificationAutoEnlist" /> property set to <see langword="true" /> and there is an  directive on the page with the <see langword="SqlDependency" /> attribute set to <c>CommandNotification</c>.</span></span></exception>
        <altmember cref="M:System.Web.Caching.SqlCacheDependency.#ctor(System.String,System.String)" />
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlCacheDependency (string databaseEntryName, string tableName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string databaseEntryName, string tableName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Caching.SqlCacheDependency.#ctor(System.String,System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (databaseEntryName As String, tableName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlCacheDependency(System::String ^ databaseEntryName, System::String ^ tableName);" />
      <MemberSignature Language="F#" Value="new System.Web.Caching.SqlCacheDependency : string * string -&gt; System.Web.Caching.SqlCacheDependency" Usage="new System.Web.Caching.SqlCacheDependency (databaseEntryName, tableName)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="databaseEntryName" Type="System.String" />
        <Parameter Name="tableName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="databaseEntryName"><span data-ttu-id="21caa-136">Nom d'une base de données définie dans l'élément des bases de données du fichier Web.config de l'application.</span><span class="sxs-lookup"><span data-stu-id="21caa-136">The name of a database defined in the databases element of the application's Web.config file.</span></span></param>
        <param name="tableName"><span data-ttu-id="21caa-137">Nom de la table de base de données à laquelle la <see cref="T:System.Web.Caching.SqlCacheDependency" /> est associée.</span><span class="sxs-lookup"><span data-stu-id="21caa-137">The name of the database table that the <see cref="T:System.Web.Caching.SqlCacheDependency" /> is associated with.</span></span></param>
        <summary><span data-ttu-id="21caa-138">Initialise une nouvelle instance de la classe <see cref="T:System.Web.Caching.SqlCacheDependency" /> à l'aide des paramètres fournis pour créer une dépendance de clé de cache.</span><span class="sxs-lookup"><span data-stu-id="21caa-138">Initializes a new instance of the <see cref="T:System.Web.Caching.SqlCacheDependency" /> class, using the supplied parameters to create a cache-key dependency.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="21caa-139">Ce constructeur est utilisé pour créer <xref:System.Web.Caching.SqlCacheDependency> objets pour les produits SQL Server 7.0 et SQL Server 2000.</span><span class="sxs-lookup"><span data-stu-id="21caa-139">This constructor is used to create <xref:System.Web.Caching.SqlCacheDependency> objects for SQL Server 7.0 and SQL Server 2000 products.</span></span>  
  
 <span data-ttu-id="21caa-140">Le nom de la base de données passé à la `database` paramètre doit être défini dans le fichier Web.config de l’application.</span><span class="sxs-lookup"><span data-stu-id="21caa-140">The database name passed to the `database` parameter must be defined in the application's Web.config file.</span></span> <span data-ttu-id="21caa-141">Par exemple, le fichier Web.config suivant définit une base de données nommée pubs pour <xref:System.Web.Caching.SqlCacheDependency> les notifications de modifications.</span><span class="sxs-lookup"><span data-stu-id="21caa-141">For example, the following Web.config file defines a database named pubs for <xref:System.Web.Caching.SqlCacheDependency> change notifications.</span></span>  
  
```  
<configuration>  
  <connectionStrings>  
    <add name="Pubs" connectionString="Data Source=(local); Initial Catalog=pubs; Integrated Security=true"; providerName="System.Data.SqlClient" />  
  </connectionStrings>  
  <system.web>  
    <caching>  
      <sqlCacheDependency enabled = "true" pollTime = "60000" >  
        <databases>  
          <add name="pubs"   
            connectionStringName="pubs"  
            pollTime="9000000"  
            />  
        </databases>  
      </sqlCacheDependency>  
    </caching>  
  </system.web>  
</configuration>  
```  
  
 <span data-ttu-id="21caa-142">Deux exceptions sont généralement levées lorsque ce constructeur est utilisé : <xref:System.Web.Caching.DatabaseNotEnabledForNotificationException> et <xref:System.Web.Caching.TableNotEnabledForNotificationException>.</span><span class="sxs-lookup"><span data-stu-id="21caa-142">Two exceptions are commonly thrown when this constructor is used: <xref:System.Web.Caching.DatabaseNotEnabledForNotificationException> and <xref:System.Web.Caching.TableNotEnabledForNotificationException>.</span></span> <span data-ttu-id="21caa-143">Si un <xref:System.Web.Caching.DatabaseNotEnabledForNotificationException> est levée, vous pouvez appeler la <xref:System.Web.Caching.SqlCacheDependencyAdmin.EnableNotifications%2A?displayProperty=nameWithType> méthode dans le code de gestion des exceptions, ou utilisez l’outil de ligne de commande pour configurer la base de données pour les notifications.</span><span class="sxs-lookup"><span data-stu-id="21caa-143">If a <xref:System.Web.Caching.DatabaseNotEnabledForNotificationException> is thrown, you can call the <xref:System.Web.Caching.SqlCacheDependencyAdmin.EnableNotifications%2A?displayProperty=nameWithType> method in exception-handling code, or use the  command-line tool to set up the database for notifications.</span></span> <span data-ttu-id="21caa-144">Si un <xref:System.Web.Caching.TableNotEnabledForNotificationException> est levée, vous pouvez appeler la <xref:System.Web.Caching.SqlCacheDependencyAdmin.EnableTableForNotifications%2A?displayProperty=nameWithType> méthode ou permet de configurer la table pour les notifications.</span><span class="sxs-lookup"><span data-stu-id="21caa-144">If a <xref:System.Web.Caching.TableNotEnabledForNotificationException> is thrown, you can call the <xref:System.Web.Caching.SqlCacheDependencyAdmin.EnableTableForNotifications%2A?displayProperty=nameWithType> method or use  to set up the table for notifications.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="21caa-145">L’exemple de code suivant utilise ce constructeur pour créer une instance de la <xref:System.Web.Caching.SqlCacheDependency> classe qui est associé à une table de base de données nommée Categories dans une base de données SQL Server nommée Northwind.</span><span class="sxs-lookup"><span data-stu-id="21caa-145">The following code example uses this constructor to create an instance of the <xref:System.Web.Caching.SqlCacheDependency> class that is associated with a database table named Categories in a SQL Server database named Northwind.</span></span>  
  
 [!code-csharp[CachingSamples_SqlCacheDependency#2](~/samples/snippets/csharp/VS_Snippets_WebNet/CachingSamples_SqlCacheDependency/CS/sqlcachedepsamplecs.aspx#2)]
 [!code-vb[CachingSamples_SqlCacheDependency#2](~/samples/snippets/visualbasic/VS_Snippets_WebNet/CachingSamples_SqlCacheDependency/VB/sqlcachedepsamplevb.aspx#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Web.HttpException"><span data-ttu-id="21caa-146">La vérification interne de <see cref="T:System.Data.SqlClient.SqlClientPermission" /> a échoué.</span><span class="sxs-lookup"><span data-stu-id="21caa-146">The internal check for <see cref="T:System.Data.SqlClient.SqlClientPermission" /> failed.</span></span>  
  
<span data-ttu-id="21caa-147">ou</span><span class="sxs-lookup"><span data-stu-id="21caa-147">-or-</span></span> 
<span data-ttu-id="21caa-148">Le <paramref name="databaseEntryName" /> n'a pas été trouvé dans la liste de bases de données configurée pour les notifications basées sur des tables.</span><span class="sxs-lookup"><span data-stu-id="21caa-148">The <paramref name="databaseEntryName" /> was not found in the list of databases configured for table-based notifications.</span></span>  
  
<span data-ttu-id="21caa-149">ou</span><span class="sxs-lookup"><span data-stu-id="21caa-149">-or-</span></span> 
<span data-ttu-id="21caa-150">L'objet <see cref="T:System.Web.Caching.SqlCacheDependency" /> n'a pas pu se connecter à la base de données pendant l'initialisation.</span><span class="sxs-lookup"><span data-stu-id="21caa-150">The <see cref="T:System.Web.Caching.SqlCacheDependency" /> object could not connect to the database during initialization.</span></span>  
  
<span data-ttu-id="21caa-151">ou</span><span class="sxs-lookup"><span data-stu-id="21caa-151">-or-</span></span> 
<span data-ttu-id="21caa-152">L'objet <see cref="T:System.Web.Caching.SqlCacheDependency" /> a rencontré une erreur de refus d'autorisation sur la base de données ou sur les procédures stockées de base de données qui prennent en charge l'objet <see cref="T:System.Web.Caching.SqlCacheDependency" />.</span><span class="sxs-lookup"><span data-stu-id="21caa-152">The <see cref="T:System.Web.Caching.SqlCacheDependency" /> object encountered a permission-denied error either on the database or on the database stored procedures that support the <see cref="T:System.Web.Caching.SqlCacheDependency" /> object.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="21caa-153">Le paramètre <paramref name="tableName" /> a la valeur <see cref="F:System.String.Empty" />.</span><span class="sxs-lookup"><span data-stu-id="21caa-153">The <paramref name="tableName" /> parameter is <see cref="F:System.String.Empty" />.</span></span></exception>
        <exception cref="T:System.Configuration.ConfigurationErrorsException"><span data-ttu-id="21caa-154">L'interrogation n'est pas activée pour <see cref="T:System.Web.Caching.SqlCacheDependency" />.</span><span class="sxs-lookup"><span data-stu-id="21caa-154">Polling is not enabled for the <see cref="T:System.Web.Caching.SqlCacheDependency" />.</span></span>  
  
<span data-ttu-id="21caa-155">ou</span><span class="sxs-lookup"><span data-stu-id="21caa-155">-or-</span></span> 
<span data-ttu-id="21caa-156">La fréquence de regroupement n'est pas configurée correctement.</span><span class="sxs-lookup"><span data-stu-id="21caa-156">The polling interval is not correctly configured.</span></span>  
  
<span data-ttu-id="21caa-157">ou</span><span class="sxs-lookup"><span data-stu-id="21caa-157">-or-</span></span> 
<span data-ttu-id="21caa-158">Aucune chaîne de connexion n'a été spécifiée dans le fichier de configuration de l'application.</span><span class="sxs-lookup"><span data-stu-id="21caa-158">No connection string was specified in the application's configuration file.</span></span>  
  
<span data-ttu-id="21caa-159">ou</span><span class="sxs-lookup"><span data-stu-id="21caa-159">-or-</span></span> 
<span data-ttu-id="21caa-160">La chaîne de connexion spécifiée dans le fichier de configuration de l'application est introuvable.</span><span class="sxs-lookup"><span data-stu-id="21caa-160">The connection string specified in the application's configuration file could not be found.</span></span>  
  
<span data-ttu-id="21caa-161">ou</span><span class="sxs-lookup"><span data-stu-id="21caa-161">-or-</span></span> 
<span data-ttu-id="21caa-162">La chaîne de connexion spécifiée dans le fichier de configuration de l'application est une chaîne vide.</span><span class="sxs-lookup"><span data-stu-id="21caa-162">The connection string specified in the application's configuration file is an empty string.</span></span></exception>
        <exception cref="T:System.Web.Caching.DatabaseNotEnabledForNotificationException"><span data-ttu-id="21caa-163">La base de données spécifiée dans le paramètre <paramref name="databaseEntryName" /> n'est pas activée pour les notifications de modifications.</span><span class="sxs-lookup"><span data-stu-id="21caa-163">The database specified in the <paramref name="databaseEntryName" /> parameter is not enabled for change notifications.</span></span></exception>
        <exception cref="T:System.Web.Caching.TableNotEnabledForNotificationException"><span data-ttu-id="21caa-164">La table de base de données spécifiée dans le paramètre <paramref name="tableName" /> n'est pas activée pour les notifications de modifications.</span><span class="sxs-lookup"><span data-stu-id="21caa-164">The database table specified in the <paramref name="tableName" /> parameter is not enabled for change notifications.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="21caa-165"><paramref name="databaseEntryName" /> est <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="21caa-165"><paramref name="databaseEntryName" /> is <see langword="null" />.</span></span>  
  
<span data-ttu-id="21caa-166">- ou -</span><span class="sxs-lookup"><span data-stu-id="21caa-166">-or-</span></span> 
 <span data-ttu-id="21caa-167"><paramref name="tableName" /> est <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="21caa-167"><paramref name="tableName" /> is <see langword="null" />.</span></span></exception>
        <altmember cref="M:System.Web.Caching.SqlCacheDependency.#ctor(System.Data.SqlClient.SqlCommand)" />
      </Docs>
    </Member>
    <Member MemberName="CreateOutputCacheDependency">
      <MemberSignature Language="C#" Value="public static System.Web.Caching.CacheDependency CreateOutputCacheDependency (string dependency);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig class System.Web.Caching.CacheDependency CreateOutputCacheDependency(string dependency) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Caching.SqlCacheDependency.CreateOutputCacheDependency(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function CreateOutputCacheDependency (dependency As String) As CacheDependency" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Web::Caching::CacheDependency ^ CreateOutputCacheDependency(System::String ^ dependency);" />
      <MemberSignature Language="F#" Value="static member CreateOutputCacheDependency : string -&gt; System.Web.Caching.CacheDependency" Usage="System.Web.Caching.SqlCacheDependency.CreateOutputCacheDependency dependency" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.Caching.CacheDependency</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="dependency" Type="System.String" Index="0" FrameworkAlternate="netframework-4.0;netframework-4.5;netframework-4.5.1;netframework-4.5.2;netframework-4.6;netframework-4.6.1;netframework-4.6.2;netframework-4.7;netframework-4.7.1;netframework-4.7.2;netframework-4.8" />
      </Parameters>
      <Docs>
        <param name="dependency"><span data-ttu-id="21caa-168">Directive de dépendance du cache de sortie.</span><span class="sxs-lookup"><span data-stu-id="21caa-168">The output-cache dependency directive.</span></span></param>
        <summary><span data-ttu-id="21caa-169">Crée une relation de dépendance entre un élément stocké dans l'objet <see cref="T:System.Web.Caching.OutputCache" /> d'une application ASP.NET et une table de base de données SQL Server.</span><span class="sxs-lookup"><span data-stu-id="21caa-169">Creates a dependency relationship between an item that is stored in an ASP.NET application's <see cref="T:System.Web.Caching.OutputCache" /> object and a SQL Server database table.</span></span></summary>
        <returns><span data-ttu-id="21caa-170">Nouvel objet de dépendance.</span><span class="sxs-lookup"><span data-stu-id="21caa-170">The new dependency object.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="21caa-171">Le balisage suivant montre une directive de dépendance de cache de sortie standard.</span><span class="sxs-lookup"><span data-stu-id="21caa-171">The following markup shows a typical output-cache dependency directive.</span></span>  
  
```  
<%@ OutputCache Duration="3600" SqlDependency="Northwind:Employees" VaryByParam="none" %>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="DependencyDispose">
      <MemberSignature Language="C#" Value="protected override void DependencyDispose ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void DependencyDispose() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Caching.SqlCacheDependency.DependencyDispose" />
      <MemberSignature Language="VB.NET" Value="Protected Overrides Sub DependencyDispose ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void DependencyDispose();" />
      <MemberSignature Language="F#" Value="override this.DependencyDispose : unit -&gt; unit" Usage="sqlCacheDependency.DependencyDispose " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>To be added.</summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="GetUniqueID">
      <MemberSignature Language="C#" Value="public override string GetUniqueID ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance string GetUniqueID() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.Caching.SqlCacheDependency.GetUniqueID" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function GetUniqueID () As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override System::String ^ GetUniqueID();" />
      <MemberSignature Language="F#" Value="override this.GetUniqueID : unit -&gt; string" Usage="sqlCacheDependency.GetUniqueID " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="21caa-172">Récupère un identificateur unique pour un objet <see cref="T:System.Web.Caching.SqlCacheDependency" />.</span><span class="sxs-lookup"><span data-stu-id="21caa-172">Retrieves a unique identifier for a <see cref="T:System.Web.Caching.SqlCacheDependency" /> object.</span></span></summary>
        <returns><span data-ttu-id="21caa-173">Identificateur unique pour l’objet <see cref="T:System.Web.Caching.SqlCacheDependency" />, ou null si aucun identificateur ne peut être généré.</span><span class="sxs-lookup"><span data-stu-id="21caa-173">The unique identifier for the <see cref="T:System.Web.Caching.SqlCacheDependency" /> object, or null if no identifier can be generated.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="21caa-174">Le <xref:System.Web.Caching.SqlCacheDependency> méthode retourne un identificateur utilisé pour suivre de façon unique <xref:System.Web.Caching.SqlCacheDependency> objets associés à un élément ou une application.</span><span class="sxs-lookup"><span data-stu-id="21caa-174">The <xref:System.Web.Caching.SqlCacheDependency> method returns an identifier used to uniquely track <xref:System.Web.Caching.SqlCacheDependency> objects associated with an item or application.</span></span> <span data-ttu-id="21caa-175">Identificateur unique généré lors de l’utilisation de notifications basées sur une table est partiellement dépendant de l’identificateur de modification généré par la base de données.</span><span class="sxs-lookup"><span data-stu-id="21caa-175">The unique identifier generated when using table-based notifications is partially dependent on the change identifier generated by the database.</span></span>  
  
 <span data-ttu-id="21caa-176">Lorsque vous utilisez des notifications de requête fondée sur SQL Server 2005, l’identificateur unique est `null` car [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] ne prend pas en charge le retour d’identificateurs uniques pour les notifications de requête.</span><span class="sxs-lookup"><span data-stu-id="21caa-176">When using SQL Server 2005-based query notifications, the unique identifier is `null` because [!INCLUDE[sqprsqlong](~/includes/sqprsqlong-md.md)] does not support returning unique identifiers for individual query notifications .</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>