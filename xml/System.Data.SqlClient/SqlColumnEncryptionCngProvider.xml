<Type Name="SqlColumnEncryptionCngProvider" FullName="System.Data.SqlClient.SqlColumnEncryptionCngProvider">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="97b2dc2d634fa42d4595b5812c4b9518f9521cd9" />
    <Meta Name="ms.sourcegitcommit" Value="434f60616a9793fa8436744549fc856e94f7a648" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="fr-FR" />
    <Meta Name="ms.lasthandoff" Value="08/24/2018" />
    <Meta Name="ms.locfileid" Value="36679942" />
  </Metadata>
  <TypeSignature Language="C#" Value="public class SqlColumnEncryptionCngProvider : System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit SqlColumnEncryptionCngProvider extends System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider" />
  <TypeSignature Language="DocId" Value="T:System.Data.SqlClient.SqlColumnEncryptionCngProvider" />
  <TypeSignature Language="VB.NET" Value="Public Class SqlColumnEncryptionCngProvider&#xA;Inherits SqlColumnEncryptionKeyStoreProvider" />
  <TypeSignature Language="C++ CLI" Value="public ref class SqlColumnEncryptionCngProvider : System::Data::SqlClient::SqlColumnEncryptionKeyStoreProvider" />
  <TypeSignature Language="F#" Value="type SqlColumnEncryptionCngProvider = class&#xA;    inherit SqlColumnEncryptionKeyStoreProvider" />
  <AssemblyInfo>
    <AssemblyName>System.Data</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="2f650-101">Implémentation du fournisseur de magasin de clés de migration certifiables pour l’utilisation de l’API Microsoft CNG (Cryptography Next Generation) avec [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span>
      <span class="sxs-lookup">
        <span data-stu-id="2f650-101">The CMK Store provider implementation for using the Microsoft Cryptography API: Next Generation (CNG) with [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f650-102">Permet de stocker les clés de la clé principale de colonne Always Encrypted dans un magasin, tel qu’un module de sécurité matériel (HSM), qui prend en charge le Microsoft Cryptography API : Next Generation (CNG).</span><span class="sxs-lookup"><span data-stu-id="2f650-102">Enables storing Always Encrypted column master key keys in a store, such as a hardware security module (HSM), that supports the Microsoft Cryptography API: Next Generation (CNG).</span></span>  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlColumnEncryptionCngProvider ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionCngProvider.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlColumnEncryptionCngProvider();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="2f650-103">Initialise une nouvelle instance de la classe <see cref="T:System.Data.SqlClient.SqlColumnEncryptionCngProvider" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-103">Initializes a new instance of the <see cref="T:System.Data.SqlClient.SqlColumnEncryptionCngProvider" /> class.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="DecryptColumnEncryptionKey">
      <MemberSignature Language="C#" Value="public override byte[] DecryptColumnEncryptionKey (string masterKeyPath, string encryptionAlgorithm, byte[] encryptedColumnEncryptionKey);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance unsigned int8[] DecryptColumnEncryptionKey(string masterKeyPath, string encryptionAlgorithm, unsigned int8[] encryptedColumnEncryptionKey) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionCngProvider.DecryptColumnEncryptionKey(System.String,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function DecryptColumnEncryptionKey (masterKeyPath As String, encryptionAlgorithm As String, encryptedColumnEncryptionKey As Byte()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override cli::array &lt;System::Byte&gt; ^ DecryptColumnEncryptionKey(System::String ^ masterKeyPath, System::String ^ encryptionAlgorithm, cli::array &lt;System::Byte&gt; ^ encryptedColumnEncryptionKey);" />
      <MemberSignature Language="F#" Value="override this.DecryptColumnEncryptionKey : string * string * byte[] -&gt; byte[]" Usage="sqlColumnEncryptionCngProvider.DecryptColumnEncryptionKey (masterKeyPath, encryptionAlgorithm, encryptedColumnEncryptionKey)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="encryptionAlgorithm" Type="System.String" />
        <Parameter Name="encryptedColumnEncryptionKey" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="2f650-104">Chemin d’accès de la clé principale.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-104">The master key path.</span>
          </span>
        </param>
        <param name="encryptionAlgorithm">
          <span data-ttu-id="2f650-105">Algorithme de chiffrement.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-105">The encryption algorithm.</span>
          </span>
        </param>
        <param name="encryptedColumnEncryptionKey">
          <span data-ttu-id="2f650-106">Clé de chiffrement de colonne chiffrée.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-106">The encrypted column encryption key.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2f650-107">Déchiffre la valeur chiffrée indiquée à l’aide d’une clé asymétrique spécifiée par le chemin de la clé et l’algorithme spécifié.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-107">Decrypts the given encrypted value using an asymmetric key specified by the key path and the specified algorithm.</span>
          </span>
          <span data-ttu-id="2f650-108">Le chemin de la clé doit être au format [Nom_fournisseur]/Identificateur_clé et doit être une clé asymétrique stockée dans le fournisseur de magasin de clés CNG spécifié.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-108">The key path will be in the format of [ProviderName]/KeyIdentifier and should be an asymmetric key stored in the specified CNG key store provider.</span>
          </span>
          <span data-ttu-id="2f650-109">L’algorithme valide utilisé pour chiffrer/déchiffrer le CEK est 'RSA_OAEP'.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-109">The valid algorithm used to encrypt/decrypt the CEK is 'RSA_OAEP'.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="2f650-110">Clé de chiffrement de colonne déchiffrée.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-110">The decrypted column encryption key.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="EncryptColumnEncryptionKey">
      <MemberSignature Language="C#" Value="public override byte[] EncryptColumnEncryptionKey (string masterKeyPath, string encryptionAlgorithm, byte[] columnEncryptionKey);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance unsigned int8[] EncryptColumnEncryptionKey(string masterKeyPath, string encryptionAlgorithm, unsigned int8[] columnEncryptionKey) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionCngProvider.EncryptColumnEncryptionKey(System.String,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function EncryptColumnEncryptionKey (masterKeyPath As String, encryptionAlgorithm As String, columnEncryptionKey As Byte()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override cli::array &lt;System::Byte&gt; ^ EncryptColumnEncryptionKey(System::String ^ masterKeyPath, System::String ^ encryptionAlgorithm, cli::array &lt;System::Byte&gt; ^ columnEncryptionKey);" />
      <MemberSignature Language="F#" Value="override this.EncryptColumnEncryptionKey : string * string * byte[] -&gt; byte[]" Usage="sqlColumnEncryptionCngProvider.EncryptColumnEncryptionKey (masterKeyPath, encryptionAlgorithm, columnEncryptionKey)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="encryptionAlgorithm" Type="System.String" />
        <Parameter Name="columnEncryptionKey" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="2f650-111">Chemin d’accès de la clé principale.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-111">The master key path.</span>
          </span>
        </param>
        <param name="encryptionAlgorithm">
          <span data-ttu-id="2f650-112">Algorithme de chiffrement.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-112">The encryption algorithm.</span>
          </span>
        </param>
        <param name="columnEncryptionKey">
          <span data-ttu-id="2f650-113">Clé de chiffrement de colonne chiffrée.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-113">The encrypted column encryption key.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2f650-114">Chiffre la clé de chiffrement de colonne de texte brut donnée à l’aide d’une clé asymétrique spécifiée par le chemin de la clé et l’algorithme spécifié.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-114">Encrypts the given plain text column encryption key using an asymmetric key specified by the key path and the specified algorithm.</span>
          </span>
          <span data-ttu-id="2f650-115">Le chemin de la clé doit être au format [Nom_fournisseur]/Identificateur_clé et doit être une clé asymétrique stockée dans le fournisseur de magasin de clés CNG spécifié.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-115">The key path will be in the format of [ProviderName]/KeyIdentifier and should be an asymmetric key stored in the specified CNG key store provider.</span>
          </span>
          <span data-ttu-id="2f650-116">L’algorithme valide utilisé pour chiffrer/déchiffrer le CEK est 'RSA_OAEP'.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-116">The valid algorithm used to encrypt/decrypt the CEK is 'RSA_OAEP'.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="2f650-117">Clé de chiffrement de colonne chiffrée.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-117">The encrypted column encryption key.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="ProviderName">
      <MemberSignature Language="C#" Value="public const string ProviderName;" />
      <MemberSignature Language="ILAsm" Value=".field public static literal string ProviderName" />
      <MemberSignature Language="DocId" Value="F:System.Data.SqlClient.SqlColumnEncryptionCngProvider.ProviderName" />
      <MemberSignature Language="VB.NET" Value="Public Const ProviderName As String " />
      <MemberSignature Language="C++ CLI" Value="public: System::String ^ ProviderName;" />
      <MemberSignature Language="F#" Value="val mutable ProviderName : string" Usage="System.Data.SqlClient.SqlColumnEncryptionCngProvider.ProviderName" />
      <MemberType>Field</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="2f650-118">Chaîne constante pour le nom du fournisseur 'MSSQL_CNG_STORE'.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-118">A constant string for the provider name 'MSSQL_CNG_STORE'.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="SignColumnMasterKeyMetadata">
      <MemberSignature Language="C#" Value="public override byte[] SignColumnMasterKeyMetadata (string masterKeyPath, bool allowEnclaveComputations);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance unsigned int8[] SignColumnMasterKeyMetadata(string masterKeyPath, bool allowEnclaveComputations) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionCngProvider.SignColumnMasterKeyMetadata(System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function SignColumnMasterKeyMetadata (masterKeyPath As String, allowEnclaveComputations As Boolean) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override cli::array &lt;System::Byte&gt; ^ SignColumnMasterKeyMetadata(System::String ^ masterKeyPath, bool allowEnclaveComputations);" />
      <MemberSignature Language="F#" Value="override this.SignColumnMasterKeyMetadata : string * bool -&gt; byte[]" Usage="sqlColumnEncryptionCngProvider.SignColumnMasterKeyMetadata (masterKeyPath, allowEnclaveComputations)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="allowEnclaveComputations" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="2f650-119">Chemin de la clé principale de colonne.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-119">The column master key path.</span>
          </span>
          <span data-ttu-id="2f650-120">Le format du chemin est spécifique à un fournisseur de magasin de clés.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-120">The path format is specific to a key store provider.</span>
          </span>
        </param>
        <param name="allowEnclaveComputations">
          <span data-ttu-id="2f650-121">
            <see langword="true" /> pour indiquer que la clé principale de colonne prend en charge les calculs d’enclave ; sinon, <see langword="false" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-121">
              <see langword="true" /> to indicate that the column master key supports enclave computations; otherwise, <see langword="false" />.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2f650-122">Lève une exception <see cref="T:System.NotSupportedException" /> dans tous les cas.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-122">Throws a <see cref="T:System.NotSupportedException" /> exception in all cases.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="2f650-123">Signature des métadonnées de clé principale de colonne.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-123">The signature of the column master key metadata.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="2f650-124">Le <xref:System.Data.SqlClient.SqlColumnEncryptionCngProvider.SignColumnMasterKeyMetadata%2A> méthode doit être implémentée par les fournisseurs de magasin de clés correspondantes.</span><span class="sxs-lookup"><span data-stu-id="2f650-124">The <xref:System.Data.SqlClient.SqlColumnEncryptionCngProvider.SignColumnMasterKeyMetadata%2A> method must be implemented by the corresponding key store providers.</span></span> <span data-ttu-id="2f650-125"><xref:System.Data.SqlClient.SqlColumnEncryptionCngProvider.SignColumnMasterKeyMetadata%2A> doit utiliser une clé asymétrique identifiée par un chemin de clé et signer les métadonnées consistant en `masterKeyPath`, `allowEnclaveComputations`et providerName.</span><span class="sxs-lookup"><span data-stu-id="2f650-125"><xref:System.Data.SqlClient.SqlColumnEncryptionCngProvider.SignColumnMasterKeyMetadata%2A> should use an asymmetric key identified by a key path and sign the masterkey metadata consisting of `masterKeyPath`, `allowEnclaveComputations`, and providerName.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NotSupportedException">
          <span data-ttu-id="2f650-126">Dans tous les cas.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-126">In all cases.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="VerifyColumnMasterKeyMetadata">
      <MemberSignature Language="C#" Value="public override bool VerifyColumnMasterKeyMetadata (string masterKeyPath, bool allowEnclaveComputations, byte[] signature);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance bool VerifyColumnMasterKeyMetadata(string masterKeyPath, bool allowEnclaveComputations, unsigned int8[] signature) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionCngProvider.VerifyColumnMasterKeyMetadata(System.String,System.Boolean,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function VerifyColumnMasterKeyMetadata (masterKeyPath As String, allowEnclaveComputations As Boolean, signature As Byte()) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override bool VerifyColumnMasterKeyMetadata(System::String ^ masterKeyPath, bool allowEnclaveComputations, cli::array &lt;System::Byte&gt; ^ signature);" />
      <MemberSignature Language="F#" Value="override this.VerifyColumnMasterKeyMetadata : string * bool * byte[] -&gt; bool" Usage="sqlColumnEncryptionCngProvider.VerifyColumnMasterKeyMetadata (masterKeyPath, allowEnclaveComputations, signature)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="allowEnclaveComputations" Type="System.Boolean" />
        <Parameter Name="signature" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="2f650-127">Chemin complet d’une clé asymétrique.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-127">The complete path of an asymmetric key.</span>
          </span>
          <span data-ttu-id="2f650-128">Le format du chemin est spécifique à un fournisseur de magasin de clés.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-128">The path format is specific to a key store provider.</span>
          </span>
        </param>
        <param name="allowEnclaveComputations">
          <span data-ttu-id="2f650-129">Valeur booléenne qui indique si cette clé peut être envoyée à l’enclave approuvée.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-129">A Boolean that indicates if this key can be sent to the trusted enclave.</span>
          </span>
        </param>
        <param name="signature">
          <span data-ttu-id="2f650-130">Signature de métadonnées de clé principale.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-130">The master key metadata signature.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="2f650-131">Cette fonction doit être implémentée par les fournisseurs de magasin de clés correspondants.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-131">This function must be implemented by the corresponding Key Store providers.</span>
          </span>
          <span data-ttu-id="2f650-132">Cette fonction doit utiliser une clé asymétrique identifiée par un chemin de clé et vérifier les métadonnées de clé principale la composant (masterKeyPath, allowEnclaveComputations, providerName).</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-132">This function should use an asymmetric key identified by a key path and verify the masterkey metadata consisting of (masterKeyPath, allowEnclaveComputations, providerName).</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="2f650-133">Valeur booléenne qui indique si les métadonnées de clé principale peuvent être vérifiées en fonction de la signature fournie.</span>
          <span class="sxs-lookup">
            <span data-stu-id="2f650-133">A Boolean that indicates if the master key metadata can be verified based on the provided signature.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>