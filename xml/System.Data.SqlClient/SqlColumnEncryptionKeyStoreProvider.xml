<Type Name="SqlColumnEncryptionKeyStoreProvider" FullName="System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="e975c25375894e64d491184bb4cdee074f48895b" />
    <Meta Name="ms.sourcegitcommit" Value="e7865e39826e7aaf54da4c7042975153813a31c7" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="fr-FR" />
    <Meta Name="ms.lasthandoff" Value="04/16/2018" />
  </Metadata>
  <TypeSignature Language="C#" Value="public abstract class SqlColumnEncryptionKeyStoreProvider" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit SqlColumnEncryptionKeyStoreProvider extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class SqlColumnEncryptionKeyStoreProvider" />
  <TypeSignature Language="C++ CLI" Value="public ref class SqlColumnEncryptionKeyStoreProvider abstract" />
  <AssemblyInfo>
    <AssemblyName>System.Data</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="481a1-101">Classe de base pour tous les fournisseurs de magasin de clés.</span>
      <span class="sxs-lookup">
        <span data-stu-id="481a1-101">Base class for all key store providers.</span>
      </span>
      <span data-ttu-id="481a1-102">Un fournisseur personnalisé doit dériver de cette classe et remplacer ses fonctions membres, puis l’inscrire à l’aide de SqlConnection.RegisterColumnEncryptionKeyStoreProviders().</span>
      <span class="sxs-lookup">
        <span data-stu-id="481a1-102">A custom provider must derive from this class and override its member functions and then register it using SqlConnection.RegisterColumnEncryptionKeyStoreProviders().</span>
      </span>
      <span data-ttu-id="481a1-103">Pour plus d’informations, consultez [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span>
      <span class="sxs-lookup">
        <span data-stu-id="481a1-103">For details see, [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span>
      </span>
    </summary>
    <remarks>To be added.</remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected SqlColumnEncryptionKeyStoreProvider ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; SqlColumnEncryptionKeyStoreProvider();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="481a1-104">Initialise une nouvelle instance de la classe SqlColumnEncryptionKeyStoreProviderClass.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-104">Initializes a new instance of the SqlColumnEncryptionKeyStoreProviderClass.</span>
          </span>
        </summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="DecryptColumnEncryptionKey">
      <MemberSignature Language="C#" Value="public abstract byte[] DecryptColumnEncryptionKey (string masterKeyPath, string encryptionAlgorithm, byte[] encryptedColumnEncryptionKey);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance unsigned int8[] DecryptColumnEncryptionKey(string masterKeyPath, string encryptionAlgorithm, unsigned int8[] encryptedColumnEncryptionKey) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider.DecryptColumnEncryptionKey(System.String,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function DecryptColumnEncryptionKey (masterKeyPath As String, encryptionAlgorithm As String, encryptedColumnEncryptionKey As Byte()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract cli::array &lt;System::Byte&gt; ^ DecryptColumnEncryptionKey(System::String ^ masterKeyPath, System::String ^ encryptionAlgorithm, cli::array &lt;System::Byte&gt; ^ encryptedColumnEncryptionKey);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="encryptionAlgorithm" Type="System.String" />
        <Parameter Name="encryptedColumnEncryptionKey" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="481a1-105">Chemin d’accès de la clé principale.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-105">The master key path.</span>
          </span>
        </param>
        <param name="encryptionAlgorithm">
          <span data-ttu-id="481a1-106">Algorithme de chiffrement.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-106">The encryption algorithm.</span>
          </span>
        </param>
        <param name="encryptedColumnEncryptionKey">
          <span data-ttu-id="481a1-107">Clé de chiffrement de colonne chiffrée.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-107">The encrypted column encryption key.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="481a1-108">Déchiffre la valeur chiffrée spécifiée d’une clé de chiffrement de colonne.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-108">Decrypts the specified encrypted value of a column encryption key.</span>
          </span>
          <span data-ttu-id="481a1-109">La valeur chiffrée est censée être chiffrée à l’aide de la clé principale de colonne avec le chemin de clé spécifié et à l’aide de l’algorithme spécifié.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-109">The encrypted value is expected to be encrypted using the column master key with the specified key path and using the specified algorithm.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="481a1-110">Retourne <see cref="T:System.Byte" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-110">Returns <see cref="T:System.Byte" />.</span>
          </span>
          <span data-ttu-id="481a1-111">Clé de chiffrement de colonne déchiffrée.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-111">The decrypted column encryption key.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="EncryptColumnEncryptionKey">
      <MemberSignature Language="C#" Value="public abstract byte[] EncryptColumnEncryptionKey (string masterKeyPath, string encryptionAlgorithm, byte[] columnEncryptionKey);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance unsigned int8[] EncryptColumnEncryptionKey(string masterKeyPath, string encryptionAlgorithm, unsigned int8[] columnEncryptionKey) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider.EncryptColumnEncryptionKey(System.String,System.String,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function EncryptColumnEncryptionKey (masterKeyPath As String, encryptionAlgorithm As String, columnEncryptionKey As Byte()) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract cli::array &lt;System::Byte&gt; ^ EncryptColumnEncryptionKey(System::String ^ masterKeyPath, System::String ^ encryptionAlgorithm, cli::array &lt;System::Byte&gt; ^ columnEncryptionKey);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="encryptionAlgorithm" Type="System.String" />
        <Parameter Name="columnEncryptionKey" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="481a1-112">Chemin d’accès de la clé principale.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-112">The master key path.</span>
          </span>
        </param>
        <param name="encryptionAlgorithm">
          <span data-ttu-id="481a1-113">Algorithme de chiffrement.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-113">The encryption algorithm.</span>
          </span>
        </param>
        <param name="columnEncryptionKey">
          <span data-ttu-id="481a1-114">Clé de chiffrement de colonne chiffrée.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-114">The encrypted column encryption key.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="481a1-115">Chiffre une clé de chiffrement de colonne à l’aide de la clé principale de colonne avec le chemin de clé spécifié et à l’aide de l’algorithme spécifié.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-115">Encrypts a column encryption key using the column master key with the specified key path and using the specified algorithm.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="481a1-116">Retourne <see cref="T:System.Byte" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-116">Returns <see cref="T:System.Byte" />.</span>
          </span>
          <span data-ttu-id="481a1-117">Clé de chiffrement de colonne chiffrée.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-117">The encrypted column encryption key.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="SignColumnMasterKeyMetadata">
      <MemberSignature Language="C#" Value="public virtual byte[] SignColumnMasterKeyMetadata (string masterKeyPath, bool allowEnclaveComputations);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance unsigned int8[] SignColumnMasterKeyMetadata(string masterKeyPath, bool allowEnclaveComputations) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider.SignColumnMasterKeyMetadata(System.String,System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function SignColumnMasterKeyMetadata (masterKeyPath As String, allowEnclaveComputations As Boolean) As Byte()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual cli::array &lt;System::Byte&gt; ^ SignColumnMasterKeyMetadata(System::String ^ masterKeyPath, bool allowEnclaveComputations);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Byte[]</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="allowEnclaveComputations" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="481a1-118">Chemin de la clé principale de colonne.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-118">The column master key path.</span>
          </span>
        </param>
        <param name="allowEnclaveComputations">
          <span data-ttu-id="481a1-119">
            <see langword="true" /> pour indiquer que la clé principale de colonne prend en charge les calculs d’enclave ; sinon, <see langword="false" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-119">
              <see langword="true" /> to indicate that the column master key supports enclave computations; otherwise, <see langword="false" />.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="481a1-120">En cas d’implémentation dans une classe dérivée, signe numériquement les métadonnées de clé principale de colonne avec la clé principale de colonne référencée par le paramètre <paramref name="masterKeyPath" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-120">When implemented in a derived class, digitally signs the column master key metadata with the column master key referenced by the <paramref name="masterKeyPath" /> parameter.</span>
          </span>
          <span data-ttu-id="481a1-121">Les valeurs d’entrée utilisées pour générer la signature doivent être les valeurs spécifiées des paramètres <paramref name="masterKeyPath" /> et <paramref name="allowEnclaveComputations" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-121">The input values used to generate the signature should be the specified values of the <paramref name="masterKeyPath" /> and <paramref name="allowEnclaveComputations" /> parameters.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="481a1-122">Signature des métadonnées de clé principale de colonne.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-122">The signature of the column master key metadata.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="481a1-123">Pour vous assurer que le <xref:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider.SignColumnMasterKeyMetadata%2A> méthode ne s’arrête pas les applications qui reposent sur une API ancien, elle lève une <xref:System.NotImplementedException> exception par défaut.</span><span class="sxs-lookup"><span data-stu-id="481a1-123">To ensure that the <xref:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider.SignColumnMasterKeyMetadata%2A> method doesn't break applications that rely on an old API, it throws a <xref:System.NotImplementedException> exception by default.</span></span>  
  
 <span data-ttu-id="481a1-124">Le <xref:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider.SignColumnMasterKeyMetadata%2A> méthode servira par les outils clients qui génèrent des clés principales de colonne (CMK) pour les clients.</span><span class="sxs-lookup"><span data-stu-id="481a1-124">The <xref:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider.SignColumnMasterKeyMetadata%2A> method will be used by client tools that generate Column Master Keys (CMK) for customers.</span></span> <span data-ttu-id="481a1-125"><xref:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider.SignColumnMasterKeyMetadata%2A> doit être implémentée par les fournisseurs de magasins de clés correspondant à utiliser enclaves avec [Always Encrypted](https://docs.microsoft.com/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span><span class="sxs-lookup"><span data-stu-id="481a1-125"><xref:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider.SignColumnMasterKeyMetadata%2A> must be implemented by the corresponding key store providers that wish to use enclaves with [Always Encrypted](https://docs.microsoft.com/sql/relational-databases/security/encryption/always-encrypted-database-engine).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.NotImplementedException">
          <span data-ttu-id="481a1-126">Dans tous les cas.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-126">In all cases.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="VerifyColumnMasterKeyMetadata">
      <MemberSignature Language="C#" Value="public virtual bool VerifyColumnMasterKeyMetadata (string masterKeyPath, bool allowEnclaveComputations, byte[] signature);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool VerifyColumnMasterKeyMetadata(string masterKeyPath, bool allowEnclaveComputations, unsigned int8[] signature) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Data.SqlClient.SqlColumnEncryptionKeyStoreProvider.VerifyColumnMasterKeyMetadata(System.String,System.Boolean,System.Byte[])" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function VerifyColumnMasterKeyMetadata (masterKeyPath As String, allowEnclaveComputations As Boolean, signature As Byte()) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual bool VerifyColumnMasterKeyMetadata(System::String ^ masterKeyPath, bool allowEnclaveComputations, cli::array &lt;System::Byte&gt; ^ signature);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Data</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="masterKeyPath" Type="System.String" />
        <Parameter Name="allowEnclaveComputations" Type="System.Boolean" />
        <Parameter Name="signature" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="masterKeyPath">
          <span data-ttu-id="481a1-127">Chemin de la clé principale de colonne.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-127">The column master key path.</span>
          </span>
        </param>
        <param name="allowEnclaveComputations">
          <span data-ttu-id="481a1-128">Indique si la clé principale de colonne prend en charge les calculs d’enclave.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-128">Indicates whether the column master key supports enclave computations.</span>
          </span>
        </param>
        <param name="signature">
          <span data-ttu-id="481a1-129">Signature des métadonnées de clé principale de colonne.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-129">The signature of the column master key metadata.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="481a1-130">En cas d’implémentation dans une classe dérivée, cette méthode est supposée vérifier que la signature spécifiée est valide pour la clé principale de colonne ayant le chemin de clé spécifié et le comportement d’enclave spécifié.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-130">When implemented in a derived class, this method is expected to verify the specified signature is valid for the column master key with the specified key path and the specified enclave behavior.</span>
          </span>
          <span data-ttu-id="481a1-131">L’implémentation par défaut lève l’exception NotImplementedException.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-131">The default implementation throws NotImplementedException.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="481a1-132">En cas d’implémentation dans une classe dérivée, la méthode est supposée retourner true si la signature spécifiée est valide, ou false si la signature spécifiée n’est pas valide.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-132">When implemented in a derived class, the method is expected to return true if the specified signature is valid, or false if the specified signature is not valid.</span>
          </span>
          <span data-ttu-id="481a1-133">L’implémentation par défaut lève l’exception NotImplementedException.</span>
          <span class="sxs-lookup">
            <span data-stu-id="481a1-133">The default implementation throws NotImplementedException.</span>
          </span>
        </returns>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
  </Members>
</Type>