<Type Name="InternalsVisibleToAttribute" FullName="System.Runtime.CompilerServices.InternalsVisibleToAttribute">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="72f45e174f70fa5053339a1308aae4feae8b8626" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="fr-FR" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
    <Meta Name="ms.locfileid" Value="30479973" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class InternalsVisibleToAttribute : Attribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit InternalsVisibleToAttribute extends System.Attribute" />
  <TypeSignature Language="DocId" Value="T:System.Runtime.CompilerServices.InternalsVisibleToAttribute" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class InternalsVisibleToAttribute&#xA;Inherits Attribute" />
  <TypeSignature Language="C++ CLI" Value="public ref class InternalsVisibleToAttribute sealed : Attribute" />
  <AssemblyInfo>
    <AssemblyName>System.Runtime</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.10.0</AssemblyVersion>
    <AssemblyVersion>4.0.20.0</AssemblyVersion>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.0.0</AssemblyVersion>
    <AssemblyVersion>4.2.1.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Attribute</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute>
      <AttributeName>System.AttributeUsage(System.AttributeTargets.Assembly, AllowMultiple=true, Inherited=false)</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>
      <span data-ttu-id="9577f-101">Indique que les types habituellement visibles uniquement dans l'assembly actuel sont également visibles dans un assembly spécifié.</span>
      <span class="sxs-lookup">
        <span data-stu-id="9577f-101">Specifies that types that are ordinarily visible only within the current assembly are visible to a specified assembly.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9577f-102">En règle générale, les types et les membres avec `internal` étendue (en c#) et `friend` étendue (en Visual Basic) sont visibles uniquement dans l’assembly dans lequel ils sont définis.</span><span class="sxs-lookup"><span data-stu-id="9577f-102">Ordinarily, types and members with `internal` scope (in C#) and `friend` scope (in Visual Basic) are visible only in the assembly in which they are defined.</span></span> <span data-ttu-id="9577f-103">Le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribut les rend également visibles aux types dans un assembly spécifié, qui est appelé un assembly friend.</span><span class="sxs-lookup"><span data-stu-id="9577f-103">The <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribute makes them also visible to the types in a specified assembly, which is known as a friend assembly.</span></span>  
  
 <span data-ttu-id="9577f-104">L’attribut est appliqué au niveau de l’assembly.</span><span class="sxs-lookup"><span data-stu-id="9577f-104">The attribute is applied at the assembly level.</span></span> <span data-ttu-id="9577f-105">Cela signifie qu’il peut être inclus au début d’un fichier de code source, ou il peut être inclus dans le fichier AssemblyInfo dans un projet Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9577f-105">This means that it can be included at the beginning of a source code file, or it can be included in the AssemblyInfo file in a Visual Studio project.</span></span> <span data-ttu-id="9577f-106">Vous pouvez utiliser l’attribut pour spécifier un assembly friend unique qui peut accéder aux types internes et les membres de l’assembly actuel.</span><span class="sxs-lookup"><span data-stu-id="9577f-106">You can use the attribute to specify a single friend assembly that can access the internal types and members of the current assembly.</span></span> <span data-ttu-id="9577f-107">Vous pouvez définir plusieurs assemblys friend de deux manières.</span><span class="sxs-lookup"><span data-stu-id="9577f-107">You can define multiple friend assemblies in two ways.</span></span> <span data-ttu-id="9577f-108">Ils peuvent apparaître comme des attributs de niveau assembly individuels, comme l’illustre l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="9577f-108">They can appear as individual assembly-level attributes, as the following example illustrates.</span></span>  
  
 [!code-csharp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#3](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cs/multiple1.cs#3)]
 [!code-vb[System.Runtime.CompilerServices.InternalsVisibleToAttribute#3](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/vb/multiple1.vb#3)]  
  
 <span data-ttu-id="9577f-109">Ils peuvent également apparaître avec distinct <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> balises, mais un seul `assembly` (mot clé), comme l’exemple suivant illustre.</span><span class="sxs-lookup"><span data-stu-id="9577f-109">They can also appear with separate <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> tags but a single `assembly` keyword, as the following example illustrates.</span></span>  
  
 [!code-csharp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#4](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cs/multiple2.cs#4)]
 [!code-vb[System.Runtime.CompilerServices.InternalsVisibleToAttribute#4](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/vb/multiple2.vb#4)]  
  
 <span data-ttu-id="9577f-110">L’assembly friend est identifié par le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute.%23ctor%2A> constructeur.</span><span class="sxs-lookup"><span data-stu-id="9577f-110">The friend assembly is identified by the <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute.%23ctor%2A> constructor.</span></span> <span data-ttu-id="9577f-111">L’assembly actuel et l’assembly friend doivent être non signés, ou les deux assemblys doivent être signés avec un nom fort.</span><span class="sxs-lookup"><span data-stu-id="9577f-111">Both the current assembly and the friend assembly must be unsigned, or both assemblies must be signed with a strong name.</span></span>  
  
 <span data-ttu-id="9577f-112">Si les deux assemblys ne sont pas signés, le `assemblyName` argument se compose du nom de l’assembly friend, spécifié sans une extension de nom de fichier ou chemin d’accès de répertoire.</span><span class="sxs-lookup"><span data-stu-id="9577f-112">If both assemblies are unsigned, the `assemblyName` argument consists of the name of the friend assembly, specified without a directory path or file name extension.</span></span>  
  
 <span data-ttu-id="9577f-113">Nom si les deux assemblys sont signés avec un nom fort, l’argument de la <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute.%23ctor%2A> constructeur doit être le nom de l’assembly sans son répertoire chemin ou fichier extension de nom, ainsi que la clé publique complète (et non son jeton de clé publique).</span><span class="sxs-lookup"><span data-stu-id="9577f-113">If both assemblies are signed with a strong name, the argument to the <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute.%23ctor%2A> constructor must consist of the name of the assembly without its directory path or file name extension, along with the full public key (and not its public key token).</span></span> <span data-ttu-id="9577f-114">Pour obtenir la clé publique complète d’un assembly avec nom fort, consultez le [mise en route de la clé publique complète](#Key) section plus loin dans cet article.</span><span class="sxs-lookup"><span data-stu-id="9577f-114">To get the full public key of a strong-named assembly, see the [Getting the full public key](#Key) section later in this article.</span></span> <span data-ttu-id="9577f-115">Pour plus d’informations sur l’utilisation de <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> avec les assemblys avec nom fort, consultez le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute.%23ctor%2A> constructeur.</span><span class="sxs-lookup"><span data-stu-id="9577f-115">For more information about using <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> with strong-named assemblies, see the <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute.%23ctor%2A> constructor.</span></span>  
  
 <span data-ttu-id="9577f-116">N’incluez pas de valeurs pour le <xref:System.Reflection.AssemblyName.CultureInfo%2A>, <xref:System.Reflection.AssemblyName.Version%2A>, ou <xref:System.Reflection.AssemblyName.ProcessorArchitecture%2A> champ dans l’argument ; les compilateurs Visual Basic, c# et C++ traitent cela comme une erreur du compilateur.</span><span class="sxs-lookup"><span data-stu-id="9577f-116">Do not include values for the <xref:System.Reflection.AssemblyName.CultureInfo%2A>, <xref:System.Reflection.AssemblyName.Version%2A>, or <xref:System.Reflection.AssemblyName.ProcessorArchitecture%2A> field in the argument; the Visual Basic, C#, and C++ compilers treat this as a compiler error.</span></span> <span data-ttu-id="9577f-117">Si vous utilisez un compilateur qui ne le considère pas comme une erreur (telles que la [assembleur IL (ILAsm.exe)](~/docs/framework/tools/ilasm-exe-il-assembler.md)) et les assemblys avec nom fort, une <xref:System.MethodAccessException> exception est levée la première fois que l’assembly friend spécifié accède à la assembly qui contient le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribut.</span><span class="sxs-lookup"><span data-stu-id="9577f-117">If you use a compiler that does not treat it as an error (such as the [IL Assembler (ILAsm.exe)](~/docs/framework/tools/ilasm-exe-il-assembler.md)) and the assemblies are strong-named, a <xref:System.MethodAccessException> exception is thrown the first time the specified friend assembly accesses the assembly that contains the <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribute.</span></span>  
  
 <span data-ttu-id="9577f-118">Pour plus d’informations sur l’utilisation de cet attribut, consultez les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="9577f-118">For more information about how to use this attribute, see the following topics:</span></span>  
  
-   [<span data-ttu-id="9577f-119">Assemblys friend (C++)</span><span class="sxs-lookup"><span data-stu-id="9577f-119">Friend Assemblies (C++)</span></span>](http://msdn.microsoft.com/library/8d55fee0-b7c2-4fbe-a23b-dfe424dc71cd)  
  
-   [<span data-ttu-id="9577f-120">Assemblys friend</span><span class="sxs-lookup"><span data-stu-id="9577f-120">Friend Assemblies</span></span>](http://msdn.microsoft.com/library/df0c70ea-2c2a-4bdc-9526-df951ad2d055)  
  
<a name="Key"></a>   
## <a name="getting-the-full-public-key"></a><span data-ttu-id="9577f-121">Obtention de la clé publique complète</span><span class="sxs-lookup"><span data-stu-id="9577f-121">Getting the full public key</span></span>  
 <span data-ttu-id="9577f-122">Vous pouvez utiliser la [Strong Name Tool (Sn.exe)](~/docs/framework/tools/sn-exe-strong-name-tool.md) pour récupérer la clé publique complète à partir d’un fichier de clé de nom fort (.snk).</span><span class="sxs-lookup"><span data-stu-id="9577f-122">You can use the [Strong Name Tool (Sn.exe)](~/docs/framework/tools/sn-exe-strong-name-tool.md) to retrieve the full public key from a strong-named key (.snk) file.</span></span> <span data-ttu-id="9577f-123">Pour ce faire, vous procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="9577f-123">To do this, you perform the following steps:</span></span>  
  
1.  <span data-ttu-id="9577f-124">Extraire la clé publique à partir du fichier de clé de nom fort à un fichier distinct :</span><span class="sxs-lookup"><span data-stu-id="9577f-124">Extract the public key from the strong-named key file to a separate file:</span></span>  
  
     <span data-ttu-id="9577f-125">**Sn -p**  *snk_file* *outfile*</span><span class="sxs-lookup"><span data-stu-id="9577f-125">**Sn -p**  *snk_file* *outfile*</span></span>  
  
2.  <span data-ttu-id="9577f-126">Afficher la clé publique complète dans la console :</span><span class="sxs-lookup"><span data-stu-id="9577f-126">Display the full public key to the console:</span></span>  
  
     <span data-ttu-id="9577f-127">**Sn -tp**  *outfile*</span><span class="sxs-lookup"><span data-stu-id="9577f-127">**Sn -tp**  *outfile*</span></span>  
  
3.  <span data-ttu-id="9577f-128">Copiez et collez la valeur de clé publique complète dans votre code source.</span><span class="sxs-lookup"><span data-stu-id="9577f-128">Copy and paste the full public key value into your source code.</span></span>  
  
## <a name="compiling-the-friend-assembly-with-c"></a><span data-ttu-id="9577f-129">La compilation de l’assembly friend avec c#</span><span class="sxs-lookup"><span data-stu-id="9577f-129">Compiling the friend assembly with C#</span></span>  
 <span data-ttu-id="9577f-130">Si vous utilisez le compilateur c# pour compiler l’assembly friend, vous devez spécifier explicitement le nom du fichier de sortie (.exe ou .dll) à l’aide de la **/out** option du compilateur.</span><span class="sxs-lookup"><span data-stu-id="9577f-130">If you use the C# compiler to compile the friend assembly, you must explicitly specify the name of the output file (.exe or .dll) by using the **/out** compiler option.</span></span> <span data-ttu-id="9577f-131">Ceci est nécessaire, car le compilateur n’a pas encore généré le nom de l’assembly qu’il est en train de créer au moment où il effectue une liaison avec les références externes.</span><span class="sxs-lookup"><span data-stu-id="9577f-131">This is required because the compiler has not yet generated the name for the assembly it is building at the time it is binding to external references.</span></span> <span data-ttu-id="9577f-132">Le **/out** option du compilateur est facultative pour le compilateur Visual Basic et correspondants **-out** ou **-o** option du compilateur ne doit pas être utilisée lors de la compilation friend assemblys avec le compilateur F #.</span><span class="sxs-lookup"><span data-stu-id="9577f-132">The **/out** compiler option is optional for the Visual Basic compiler, and the corresponding **-out** or **-o** compiler option should not be used when compiling friend assemblies with the F# compiler.</span></span>  
  
## <a name="compiling-the-friend-assembly-with-c"></a><span data-ttu-id="9577f-133">La compilation de l’assembly friend avec C++</span><span class="sxs-lookup"><span data-stu-id="9577f-133">Compiling the friend assembly with C++</span></span>  
 <span data-ttu-id="9577f-134">En C++, afin que les membres internes activées par le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribut accessible à un assembly friend, vous devez utiliser le `as_friend` attribut dans la directive de C++.</span><span class="sxs-lookup"><span data-stu-id="9577f-134">In C++, in order to make the internal members enabled by the <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribute accessible to a friend assembly, you must use the `as_friend` attribute in the C++  directive.</span></span> <span data-ttu-id="9577f-135">Pour plus d’informations, consultez [assemblys Friend (C++)](http://msdn.microsoft.com/library/8d55fee0-b7c2-4fbe-a23b-dfe424dc71cd).</span><span class="sxs-lookup"><span data-stu-id="9577f-135">For more information, see [Friend Assemblies (C++)](http://msdn.microsoft.com/library/8d55fee0-b7c2-4fbe-a23b-dfe424dc71cd).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="9577f-136">**Assemblys signés**</span><span class="sxs-lookup"><span data-stu-id="9577f-136">**Signed assemblies**</span></span>  
  
 <span data-ttu-id="9577f-137">L’exemple suivant utilise le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribut pour rendre un `internal` méthode nommée `AppendDirectorySeparator` dans un assembly signé visible dans un autre assembly signé.</span><span class="sxs-lookup"><span data-stu-id="9577f-137">The following example uses the <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribute to make an `internal` method named `AppendDirectorySeparator` in a signed assembly visible to another signed assembly.</span></span> <span data-ttu-id="9577f-138">Il définit un `FileUtilities` classe incluant interne `AppendDirectorySeparator` (méthode).</span><span class="sxs-lookup"><span data-stu-id="9577f-138">It defines a `FileUtilities` class that includes an internal `AppendDirectorySeparator` method.</span></span> <span data-ttu-id="9577f-139">Le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribut est appliqué à l’assembly qui contient la `FileUtilities` classe.</span><span class="sxs-lookup"><span data-stu-id="9577f-139">The <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribute is applied to the assembly that contains the `FileUtilities` class.</span></span> <span data-ttu-id="9577f-140">L’attribut autorise un assembly nommé `Friend1` pour accéder à ce membre interne.</span><span class="sxs-lookup"><span data-stu-id="9577f-140">The attribute allows an assembly named `Friend1` to access this internal member.</span></span>  
  
 [!code-csharp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cs/assembly1.cs#1)]
 [!code-vb[System.Runtime.CompilerServices.InternalsVisibleToAttribute#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/vb/assembly1.vb#1)]  
  
 <span data-ttu-id="9577f-141">Si l’exemple suivant est compilé dans un assembly avec nom fort nommé `Friend1`, le `Example.Main` méthode dans `Friend1` peut appeler le `FileUtilities.AppendDirectorySeparator` (méthode), bien que la méthode est interne à la `Assembly1` assembly.</span><span class="sxs-lookup"><span data-stu-id="9577f-141">If the following example is compiled into a strong-named assembly named `Friend1`, the `Example.Main` method in `Friend1` can successfully call the `FileUtilities.AppendDirectorySeparator` method, although the method is internal to the `Assembly1` assembly.</span></span> <span data-ttu-id="9577f-142">Notez que si vous compilez en c# à partir de la ligne de commande, vous devez utiliser le **/out** commutateur de compilateur pour vous assurer que le nom de l’assembly friend est disponible lorsque le compilateur lie à des références externes.</span><span class="sxs-lookup"><span data-stu-id="9577f-142">Note that if you are compiling in C# from the command line, you must use the **/out** compiler switch to ensure that the name of the friend assembly is available when the compiler binds to external references.</span></span>  
  
 [!code-cpp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cpp/friend1.cpp#2)]
 [!code-csharp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cs/friend1.cs#2)]
 [!code-vb[System.Runtime.CompilerServices.InternalsVisibleToAttribute#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/vb/friend1.vb#2)]  
  
 <span data-ttu-id="9577f-143">**Assemblys non signés**</span><span class="sxs-lookup"><span data-stu-id="9577f-143">**Unsigned assemblies**</span></span>  
  
 <span data-ttu-id="9577f-144">L’exemple suivant utilise le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribut pour rendre un `internal` membre d’un assembly non signé visible à l’autre non signé l’assembly.</span><span class="sxs-lookup"><span data-stu-id="9577f-144">The following example uses the <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribute to make an `internal` member of an unsigned assembly visible to another unsigned assembly.</span></span> <span data-ttu-id="9577f-145">L’attribut garantit que les `internal` `StringLib.IsFirstLetterUpperCase` méthode dans un assembly nommé `UtilityLib` est visible par le code dans un assembly nommé `Friend2`.</span><span class="sxs-lookup"><span data-stu-id="9577f-145">The attribute ensures that the `internal` `StringLib.IsFirstLetterUpperCase` method in an assembly named `UtilityLib` is visible to the code in an assembly named `Friend2`.</span></span>  <span data-ttu-id="9577f-146">Voici le code source pour UtilityLib.dll :</span><span class="sxs-lookup"><span data-stu-id="9577f-146">The following is the source code for UtilityLib.dll:</span></span>  
  
 [!code-csharp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cs/utilitylib.cs#5)]
 [!code-vb[System.Runtime.CompilerServices.InternalsVisibleToAttribute#5](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/vb/utilitylib.vb#5)]  
  
 <span data-ttu-id="9577f-147">L’exemple suivant fournit le code source pour le `Friend2` assembly.</span><span class="sxs-lookup"><span data-stu-id="9577f-147">The following example provides the source code for the `Friend2` assembly.</span></span> <span data-ttu-id="9577f-148">Notez que si vous compilez en c# à partir de la ligne de commande, vous devez utiliser le **/out** commutateur de compilateur pour vous assurer que le nom de l’assembly friend est disponible lorsque le compilateur lie à des références externes.</span><span class="sxs-lookup"><span data-stu-id="9577f-148">Note that if you are compiling in C# from the command line, you must use the **/out** compiler switch to ensure that the name of the friend assembly is available when the compiler binds to external references.</span></span>  
  
 [!code-cpp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#6](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cpp/friend2.cpp#6)]
 [!code-csharp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cs/friend2.cs#6)]
 [!code-vb[System.Runtime.CompilerServices.InternalsVisibleToAttribute#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/vb/friend2.vb#6)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public InternalsVisibleToAttribute (string assemblyName);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string assemblyName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Runtime.CompilerServices.InternalsVisibleToAttribute.#ctor(System.String)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (assemblyName As String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; InternalsVisibleToAttribute(System::String ^ assemblyName);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="assemblyName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="assemblyName">
          <span data-ttu-id="9577f-149">Nom d'un assembly friend.</span>
          <span class="sxs-lookup">
            <span data-stu-id="9577f-149">The name of a friend assembly.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="9577f-150">Initialise une nouvelle instance de la classe <see cref="T:System.Runtime.CompilerServices.InternalsVisibleToAttribute" /> à l'aide du nom de l'assembly friend spécifié.</span>
          <span class="sxs-lookup">
            <span data-stu-id="9577f-150">Initializes a new instance of the <see cref="T:System.Runtime.CompilerServices.InternalsVisibleToAttribute" /> class with the name of the specified friend assembly.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9577f-151">Le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute.%23ctor%2A> constructeur définit un assembly friend, qui est un assembly qui a accès aux types internes et aux membres de l’assembly actuel.</span><span class="sxs-lookup"><span data-stu-id="9577f-151">The <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute.%23ctor%2A> constructor defines a friend assembly, which is an assembly that has access to the internal types and members of the current assembly.</span></span>  
  
 <span data-ttu-id="9577f-152">L’assembly actuel et l’assembly friend doivent être non signés, ou les deux doivent être signés avec un nom fort.</span><span class="sxs-lookup"><span data-stu-id="9577f-152">Both the current assembly and the friend assembly must be unsigned, or both must be signed with a strong name.</span></span> <span data-ttu-id="9577f-153">(Pour plus d’informations sur les assemblys avec nom fort, consultez [création et assemblys avec nom fort](~/docs/framework/app-domains/create-and-use-strong-named-assemblies.md).) Si les deux sont non signés, le `assemblyName` argument se compose du nom de l’assembly friend, spécifié sans extension de fichier ou chemin d’accès au répertoire.</span><span class="sxs-lookup"><span data-stu-id="9577f-153">(For more information about strong-named assemblies, see [Creating and Using Strong-Named Assemblies](~/docs/framework/app-domains/create-and-use-strong-named-assemblies.md).) If both are unsigned, the `assemblyName` argument consists of the name of the friend assembly, specified without a directory path or file extension.</span></span> <span data-ttu-id="9577f-154">Si les deux sont signés, `assemblyName` se compose du nom de l’assembly friend sans son répertoire chemin ou extension de nom, ainsi que sa clé publique complète (mais pas son jeton de clé publique).</span><span class="sxs-lookup"><span data-stu-id="9577f-154">If both are signed, `assemblyName` consists of the name of the friend assembly without its directory path or file name extension, along with its full public key (but not its public key token).</span></span> <span data-ttu-id="9577f-155">Les autres composants d’un nom fort, tels que ceux qui indiquent la culture, version ou informations d’architecture de processeur, ne peut pas être spécifiés dans le `assemblyName` argument.</span><span class="sxs-lookup"><span data-stu-id="9577f-155">The other components of a strong name, such as those that provide culture, version, or processor architecture information, cannot be specified in the `assemblyName` argument.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="9577f-156">Si vous utilisez le compilateur c# pour compiler l’assembly friend, vous devez spécifier explicitement le nom du fichier de sortie (.exe ou .dll) à l’aide de la **/out** option du compilateur.</span><span class="sxs-lookup"><span data-stu-id="9577f-156">If you use the C# compiler to compile the friend assembly, you must explicitly specify the name of the output file (.exe or .dll) by using the **/out** compiler option.</span></span> <span data-ttu-id="9577f-157">Ceci est nécessaire, car le compilateur n’a pas encore généré le nom de l’assembly qu’il est en train de créer au moment où il effectue une liaison avec les références externes.</span><span class="sxs-lookup"><span data-stu-id="9577f-157">This is required because the compiler has not yet generated the name for the assembly it is building at the time it is binding to external references.</span></span> <span data-ttu-id="9577f-158">Le **/out** option du compilateur est facultative pour le compilateur Visual Basic et correspondants **-out** ou **-o** option du compilateur ne doit pas être utilisée lors de la compilation friend assemblys avec le compilateur F #.</span><span class="sxs-lookup"><span data-stu-id="9577f-158">The **/out** compiler option is optional for the Visual Basic compiler, and the corresponding **-out** or **-o** compiler option should not be used when compiling friend assemblies with the F# compiler.</span></span>  
  
 <span data-ttu-id="9577f-159">Vous pouvez utiliser [Sn.exe (Strong Name Tool)](~/docs/framework/tools/sn-exe-strong-name-tool.md) pour récupérer la clé publique complète à partir d’un fichier de clé de nom fort (.snk).</span><span class="sxs-lookup"><span data-stu-id="9577f-159">You can use [Sn.exe (Strong Name Tool)](~/docs/framework/tools/sn-exe-strong-name-tool.md) to retrieve the full public key from a strong-named key (.snk) file.</span></span> <span data-ttu-id="9577f-160">Pour ce faire, vous procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="9577f-160">To do this, you perform the following steps:</span></span>  
  
1.  <span data-ttu-id="9577f-161">Extraire la clé publique à partir du fichier de clé de nom fort à un fichier distinct :</span><span class="sxs-lookup"><span data-stu-id="9577f-161">Extract the public key from the strong-named key file to a separate file:</span></span>  
  
     <span data-ttu-id="9577f-162">**Sn -p**  *snk_file* *outfile*</span><span class="sxs-lookup"><span data-stu-id="9577f-162">**Sn -p**  *snk_file* *outfile*</span></span>  
  
2.  <span data-ttu-id="9577f-163">Afficher la clé publique complète dans la console :</span><span class="sxs-lookup"><span data-stu-id="9577f-163">Display the full public key to the console:</span></span>  
  
     <span data-ttu-id="9577f-164">**Sn -tp**  *outfile*</span><span class="sxs-lookup"><span data-stu-id="9577f-164">**Sn -tp**  *outfile*</span></span>  
  
3.  <span data-ttu-id="9577f-165">Copiez et collez la valeur de clé publique complète dans votre code source.</span><span class="sxs-lookup"><span data-stu-id="9577f-165">Copy and paste the full public key value into your source code.</span></span>  
  
 <span data-ttu-id="9577f-166">Pour plus d’informations sur l’utilisation de la <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> d’attribut, consultez les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="9577f-166">For more information about how to use the <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribute, see the following topics:</span></span>  
  
-   [<span data-ttu-id="9577f-167">Assemblys friend (C++)</span><span class="sxs-lookup"><span data-stu-id="9577f-167">Friend Assemblies (C++)</span></span>](http://msdn.microsoft.com/library/8d55fee0-b7c2-4fbe-a23b-dfe424dc71cd)  
  
-   [<span data-ttu-id="9577f-168">Assemblys friend</span><span class="sxs-lookup"><span data-stu-id="9577f-168">Friend Assemblies</span></span>](http://msdn.microsoft.com/library/df0c70ea-2c2a-4bdc-9526-df951ad2d055)  
  
   
  
## Examples  
 <span data-ttu-id="9577f-169">**Assemblys signés**</span><span class="sxs-lookup"><span data-stu-id="9577f-169">**Signed assemblies**</span></span>  
  
 <span data-ttu-id="9577f-170">L’exemple suivant utilise le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribut pour rendre un `internal` méthode nommée `AppendDirectorySeparator` dans un assembly signé visible dans un autre assembly signé.</span><span class="sxs-lookup"><span data-stu-id="9577f-170">The following example uses the <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribute to make an `internal` method named `AppendDirectorySeparator` in a signed assembly visible to another signed assembly.</span></span> <span data-ttu-id="9577f-171">Il définit un `FileUtilities` classe incluant interne `AppendDirectorySeparator` (méthode).</span><span class="sxs-lookup"><span data-stu-id="9577f-171">It defines a `FileUtilities` class that includes an internal `AppendDirectorySeparator` method.</span></span> <span data-ttu-id="9577f-172">Le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribut est appliqué à l’assembly qui contient la `FileUtilities` classe.</span><span class="sxs-lookup"><span data-stu-id="9577f-172">The <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribute is applied to the assembly that contains the `FileUtilities` class.</span></span> <span data-ttu-id="9577f-173">L’attribut autorise un assembly nommé `Friend1` pour accéder à ce membre interne.</span><span class="sxs-lookup"><span data-stu-id="9577f-173">The attribute allows an assembly named `Friend1` to access this internal member.</span></span>  
  
 [!code-csharp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cs/assembly1.cs#1)]
 [!code-vb[System.Runtime.CompilerServices.InternalsVisibleToAttribute#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/vb/assembly1.vb#1)]  
  
 <span data-ttu-id="9577f-174">Si l’exemple suivant est compilé dans un assembly avec nom fort nommé `Friend1`, il peut appeler le `FileUtilities.AppendDirectorySeparator` (méthode), même si la méthode est interne à la `Assembly1` assembly.</span><span class="sxs-lookup"><span data-stu-id="9577f-174">If the following example is compiled into a strong-named assembly named `Friend1`, it can successfully call the `FileUtilities.AppendDirectorySeparator` method, even though the method is internal to the `Assembly1` assembly.</span></span> <span data-ttu-id="9577f-175">Notez que si vous compilez en c# à partir de la ligne de commande, vous devez utiliser le **/out** commutateur de compilateur pour vous assurer que le nom de l’assembly friend est disponible lorsque le compilateur lie à des références externes.</span><span class="sxs-lookup"><span data-stu-id="9577f-175">Note that if you are compiling in C# from the command line, you must use the **/out** compiler switch to ensure that the name of the friend assembly is available when the compiler binds to external references.</span></span>  
  
 [!code-cpp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#2](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cpp/friend1.cpp#2)]
 [!code-csharp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cs/friend1.cs#2)]
 [!code-vb[System.Runtime.CompilerServices.InternalsVisibleToAttribute#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/vb/friend1.vb#2)]  
  
 <span data-ttu-id="9577f-176">L’exemple suivant utilise le <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribut pour rendre un `internal` membre d’un assembly non signé visible à l’autre non signé l’assembly.</span><span class="sxs-lookup"><span data-stu-id="9577f-176">The following example uses the <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribute to make an `internal` member of an unsigned assembly visible to another unsigned assembly.</span></span> <span data-ttu-id="9577f-177">L’attribut garantit que les `internal` `StringLib.IsFirstLetterUpperCase` méthode dans un assembly nommé `UtilityLib` est visible par le code dans un assembly nommé `Friend2`.</span><span class="sxs-lookup"><span data-stu-id="9577f-177">The attribute ensures that the `internal` `StringLib.IsFirstLetterUpperCase` method in an assembly named `UtilityLib` is visible to the code in an assembly named `Friend2`.</span></span>  <span data-ttu-id="9577f-178">Voici le code source pour UtilityLib.dll :</span><span class="sxs-lookup"><span data-stu-id="9577f-178">The following is the source code for UtilityLib.dll:</span></span>  
  
 [!code-csharp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#5](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cs/utilitylib.cs#5)]
 [!code-vb[System.Runtime.CompilerServices.InternalsVisibleToAttribute#5](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/vb/utilitylib.vb#5)]  
  
 <span data-ttu-id="9577f-179">**Assemblys non signés**</span><span class="sxs-lookup"><span data-stu-id="9577f-179">**Unsigned assemblies**</span></span>  
  
 <span data-ttu-id="9577f-180">L’exemple suivant fournit le code source pour le `Friend2` assembly.</span><span class="sxs-lookup"><span data-stu-id="9577f-180">The following example provides the source code for the `Friend2` assembly.</span></span> <span data-ttu-id="9577f-181">Notez que si vous compilez en c# à partir de la ligne de commande, vous devez utiliser le **/out** commutateur de compilateur pour vous assurer que le nom de l’assembly friend est disponible lorsque le compilateur lie à des références externes.</span><span class="sxs-lookup"><span data-stu-id="9577f-181">Note that if you are compiling in C# from the command line, you must use the **/out** compiler switch to ensure that the name of the friend assembly is available when the compiler binds to external references.</span></span>  
  
 [!code-cpp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#6](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cpp/friend2.cpp#6)]
 [!code-csharp[System.Runtime.CompilerServices.InternalsVisibleToAttribute#6](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/cs/friend2.cs#6)]
 [!code-vb[System.Runtime.CompilerServices.InternalsVisibleToAttribute#6](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.runtime.compilerservices.internalsvisibletoattribute/vb/friend2.vb#6)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="AllInternalsVisible">
      <MemberSignature Language="C#" Value="public bool AllInternalsVisible { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool AllInternalsVisible" />
      <MemberSignature Language="DocId" Value="P:System.Runtime.CompilerServices.InternalsVisibleToAttribute.AllInternalsVisible" />
      <MemberSignature Language="VB.NET" Value="Public Property AllInternalsVisible As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool AllInternalsVisible { bool get(); void set(bool value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="9577f-182">Cette propriété n'est pas implémentée.</span>
          <span class="sxs-lookup">
            <span data-stu-id="9577f-182">This property is not implemented.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="9577f-183">Cette propriété ne retourne pas de valeur.</span>
          <span class="sxs-lookup">
            <span data-stu-id="9577f-183">This property does not return a value.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="AssemblyName">
      <MemberSignature Language="C#" Value="public string AssemblyName { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string AssemblyName" />
      <MemberSignature Language="DocId" Value="P:System.Runtime.CompilerServices.InternalsVisibleToAttribute.AssemblyName" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property AssemblyName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ AssemblyName { System::String ^ get(); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.10.0</AssemblyVersion>
        <AssemblyVersion>4.0.20.0</AssemblyVersion>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.0.0</AssemblyVersion>
        <AssemblyVersion>4.2.1.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="9577f-184">Obtient le nom de l'assembly friend dans lequel tous les types et membres de type marqués avec le mot clé <see langword="internal" /> doivent être visibles.</span>
          <span class="sxs-lookup">
            <span data-stu-id="9577f-184">Gets the name of the friend assembly to which all types and type members that are marked with the <see langword="internal" /> keyword are to be made visible.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="9577f-185">Chaîne représentant le nom de l'assembly friend.</span>
          <span class="sxs-lookup">
            <span data-stu-id="9577f-185">A string that represents the name of the friend assembly.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="9577f-186">Pour plus d’informations sur l’utilisation de la <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> d’attribut, consultez les rubriques suivantes :</span><span class="sxs-lookup"><span data-stu-id="9577f-186">For more information about how to use the <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> attribute, see the following topics:</span></span>  
  
-   [<span data-ttu-id="9577f-187">Assemblys friend (C++)</span><span class="sxs-lookup"><span data-stu-id="9577f-187">Friend Assemblies (C++)</span></span>](http://msdn.microsoft.com/library/8d55fee0-b7c2-4fbe-a23b-dfe424dc71cd)  
  
-   [<span data-ttu-id="9577f-188">Assemblys friend</span><span class="sxs-lookup"><span data-stu-id="9577f-188">Friend Assemblies</span></span>](http://msdn.microsoft.com/library/df0c70ea-2c2a-4bdc-9526-df951ad2d055)  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>