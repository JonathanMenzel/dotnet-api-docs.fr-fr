<Type Name="ClaimsAuthorizationManager" FullName="System.Security.Claims.ClaimsAuthorizationManager">
  <Metadata><Meta Name="ms.openlocfilehash" Value="c72b41e033ca5ca7fbd9a2ecd7b933ad2ce249f2" /><Meta Name="ms.sourcegitcommit" Value="a3e01ec36374fac54a55add0dcc1e754e394abeb" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="fr-FR" /><Meta Name="ms.lasthandoff" Value="03/30/2019" /><Meta Name="ms.locfileid" Value="58719802" /></Metadata><TypeSignature Language="C#" Value="public class ClaimsAuthorizationManager : System.IdentityModel.Configuration.ICustomIdentityConfiguration" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit ClaimsAuthorizationManager extends System.Object implements class System.IdentityModel.Configuration.ICustomIdentityConfiguration" />
  <TypeSignature Language="DocId" Value="T:System.Security.Claims.ClaimsAuthorizationManager" />
  <TypeSignature Language="VB.NET" Value="Public Class ClaimsAuthorizationManager&#xA;Implements ICustomIdentityConfiguration" />
  <TypeSignature Language="C++ CLI" Value="public ref class ClaimsAuthorizationManager : System::IdentityModel::Configuration::ICustomIdentityConfiguration" />
  <TypeSignature Language="F#" Value="type ClaimsAuthorizationManager = class&#xA;    interface ICustomIdentityConfiguration" />
  <AssemblyInfo>
    <AssemblyName>System.IdentityModel</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces>
    <Interface>
      <InterfaceName>System.IdentityModel.Configuration.ICustomIdentityConfiguration</InterfaceName>
    </Interface>
  </Interfaces>
  <Docs>
    <summary><span data-ttu-id="d3918-101">Définit l'implémentation de base d'un gestionnaire d'autorisation des revendications.</span><span class="sxs-lookup"><span data-stu-id="d3918-101">Defines the base implementation for a claims authorization manager.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="d3918-102">Le <xref:System.Security.Claims.ClaimsAuthorizationManager> classe fournit l’implémentation de base d’un gestionnaire d’autorisation de revendications.</span><span class="sxs-lookup"><span data-stu-id="d3918-102">The <xref:System.Security.Claims.ClaimsAuthorizationManager> class provides the base implementation for a claims authorization manager.</span></span> <span data-ttu-id="d3918-103">Un gestionnaire d’autorisation des revendications peut être utilisé dans les deux scénarios suivants :</span><span class="sxs-lookup"><span data-stu-id="d3918-103">A claims authorization manager can be used in the following two scenarios:</span></span>  
  
-   <span data-ttu-id="d3918-104">Dans les applications Web et services, un gestionnaire d’autorisation des revendications peut être ajouté au pipeline de traitement pour fournir un point d’extensibilité à partir de laquelle vous pouvez autoriser l’accès à une ressource en fonction de la valeur des revendications entrantes avant le code d’application qu’en réalité implémente la ressource demandée est appelée.</span><span class="sxs-lookup"><span data-stu-id="d3918-104">In web-based applications and services, a claims authorization manager  can be added to the processing pipeline to provide an extensibility point from which you can authorize access to a resource according to the value of incoming claims before the application code that actually implements the requested resource is called.</span></span>  
  
-   <span data-ttu-id="d3918-105">Lorsque vous utilisez le <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> classe ou la <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> classe pour exécuter accès impérative ou déclarative basée sur les revendications vérifie dans votre code, le Gestionnaire d’autorisation de revendications qui est configuré pour votre application est appelé par le système pour effectuer le Vérifiez.</span><span class="sxs-lookup"><span data-stu-id="d3918-105">When you use the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> class or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class to perform either imperative or declarative claims-based access checks in your code, the claims authorization manager that is configured for your application is called by the system to perform the check.</span></span> <span data-ttu-id="d3918-106">Vérifications de l’accès basé sur les revendications peuvent être effectuées dans les applications Web et applications de bureau.</span><span class="sxs-lookup"><span data-stu-id="d3918-106">Claims-based access checks can be performed in both web-based applications and desktop applications.</span></span>  
  
 <span data-ttu-id="d3918-107">L’implémentation par défaut fournie par le <xref:System.Security.Claims.ClaimsAuthorizationManager> classe autorise l’accès pour chaque revendication présentée ; Toutefois, vous pouvez dériver de cette classe et substituer la <xref:System.Security.Claims.ClaimsAuthorizationManager.CheckAccess%2A> méthode pour fournir votre propre logique d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="d3918-107">The default implementation provided by the <xref:System.Security.Claims.ClaimsAuthorizationManager> class authorizes access for each claim presented; however, you can derive from this class and override the <xref:System.Security.Claims.ClaimsAuthorizationManager.CheckAccess%2A> method to provide your own authorization logic.</span></span>  
  
 <span data-ttu-id="d3918-108">L’utilisation d’un gestionnaire d’autorisation de revendications est facultative.</span><span class="sxs-lookup"><span data-stu-id="d3918-108">The use of a claims authorization manager is optional.</span></span> <span data-ttu-id="d3918-109">Vous pouvez configurer votre application pour utiliser un gestionnaire d’autorisation des revendications par programmation à l’aide de la <xref:System.IdentityModel.Configuration.IdentityConfiguration> classe ou de façon déclarative, en spécifiant le [ &lt;claimsAuthorizationManager&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md)élément, qui est un élément enfant de le [ &lt;identityConfiguration&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) élément dans votre fichier de configuration d’application.</span><span class="sxs-lookup"><span data-stu-id="d3918-109">You can configure your application to use a claims authorization manager either programmatically by using the <xref:System.IdentityModel.Configuration.IdentityConfiguration> class or declaratively, by specifying the [&lt;claimsAuthorizationManager&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) element, which is a child element of the [&lt;identityConfiguration&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) element in your application configuration file.</span></span> <span data-ttu-id="d3918-110">Si votre application est un site web ou une application web hébergée dans Internet Information Services (IIS), vous devez également ajouter le <xref:System.IdentityModel.Services.ClaimsAuthorizationModule> dans la collection de Modules HTTP ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="d3918-110">If your application is a web site or a web application hosted in Internet Information Services (IIS), you must also add the <xref:System.IdentityModel.Services.ClaimsAuthorizationModule> in the ASP.NET HTTP Modules collection.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="d3918-111">Lorsque vous utilisez le <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> classe ou le <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> (classe), le Gestionnaire d’autorisation des revendications qui est utilisé pour effectuer la vérification d’accès est celui qui est spécifié dans la configuration d’identité sous la <xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfiguration%2A?displayProperty=nameWithType> propriété.</span><span class="sxs-lookup"><span data-stu-id="d3918-111">When you use the <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> class or the <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> class, the claims authorization manager that is used to perform the access check is the one that is specified in the identity configuration under the <xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfiguration%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="d3918-112">Dans un fichier de configuration, il est le `<identityConfiguration>` section qui est référencée à partir de la valeur par défaut `<federationConfiguration>` élément.</span><span class="sxs-lookup"><span data-stu-id="d3918-112">In a configuration file, it is the `<identityConfiguration>` section that is referenced from the default `<federationConfiguration>` element.</span></span> <span data-ttu-id="d3918-113">Cela est vrai même pour les applications de bureau et les services Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="d3918-113">This is true even for Windows Communication Foundation (WCF) services and desktop applications.</span></span>  
  
 <span data-ttu-id="d3918-114">Le <xref:System.Security.Claims.ClaimsAuthorizationManager> classe de base ne prend pas de configuration supplémentaire ; Toutefois, vous pouvez remplacer le <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> dans les classes dérivées pour fournir l’initialisation de votre gestionnaire d’autorisation des revendications à partir des éléments enfants de le `<claimsAuthorizationElement>`.</span><span class="sxs-lookup"><span data-stu-id="d3918-114">The <xref:System.Security.Claims.ClaimsAuthorizationManager> base class does not take any additional configuration; however, you can override the <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> in derived classes to provide initialization of your claims authorization manager from child elements of the `<claimsAuthorizationElement>`.</span></span> <span data-ttu-id="d3918-115">Le scénario classique consiste à utiliser ces éléments enfants pour spécifier des stratégies d’autorisation qui déterminent les types de revendications et les valeurs sont nécessaires pour accéder à la ressource.</span><span class="sxs-lookup"><span data-stu-id="d3918-115">The typical scenario is to use these child elements to specify authorization policies which determine which claim types and values are required in order to gain access to which resource.</span></span> <span data-ttu-id="d3918-116">Cela n’est pas une obligation, bien que vous êtes libre de définir quel que soit l’utilisation et la syntaxe de sens pour votre implémentation.</span><span class="sxs-lookup"><span data-stu-id="d3918-116">This is not a hard requirement, though you are free to define whatever usage and syntax make sense for your implementation.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="d3918-117">Les exemples de code qui sont utilisés dans le <xref:System.Security.Claims.ClaimsAuthorizationManager> rubriques sont extraites de la `Claims Based Authorization` exemple.</span><span class="sxs-lookup"><span data-stu-id="d3918-117">The code examples that are used in the <xref:System.Security.Claims.ClaimsAuthorizationManager> topics are taken from the `Claims Based Authorization` sample.</span></span> <span data-ttu-id="d3918-118">Cet exemple fournit un gestionnaire d’autorisation des revendications personnalisées qui peut autoriser des sujets basés sur une stratégie qui est spécifiée dans la configuration.</span><span class="sxs-lookup"><span data-stu-id="d3918-118">This sample provides a custom claims authorization manager that can authorize subjects based on a policy that is specified in configuration.</span></span> <span data-ttu-id="d3918-119">Le Gestionnaire d’autorisation de revendications personnalisées se compose de trois éléments : une classe dérivée de <xref:System.Security.Claims.ClaimsAuthorizationManager> qui implémente le gestionnaire, la `ResourceAction` classe qui associe une ressource et une action et un lecteur de stratégie qui lit et compile la stratégie est spécifié dans le fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="d3918-119">The custom claims authorization manager consists of three basic components: a class derived from <xref:System.Security.Claims.ClaimsAuthorizationManager> that implements the manager, the `ResourceAction` class that pairs a resource and an action, and a policy reader that reads and compiles policy that is specified in the configuration file.</span></span> <span data-ttu-id="d3918-120">Cette compilé stratégie peut ensuite être utilisée par le Gestionnaire d’autorisation des revendications pour évaluer une entité de sécurité pour autoriser l’accès aux ressources.</span><span class="sxs-lookup"><span data-stu-id="d3918-120">This compiled policy can then be used by the claims authorization manager to evaluate a principal in order to authorize access to resources.</span></span> <span data-ttu-id="d3918-121">Pas tous les éléments sont affichés par souci de concision.</span><span class="sxs-lookup"><span data-stu-id="d3918-121">Not all elements are shown for the sake of brevity.</span></span> <span data-ttu-id="d3918-122">Pour plus d’informations sur cet exemple et d’autres exemples disponibles pour WIF et où les télécharger, consultez [Index exemple de Code WIF](~/docs/framework/security/wif-code-sample-index.md).</span><span class="sxs-lookup"><span data-stu-id="d3918-122">For information about this sample and other samples available for WIF and about where to download them, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span>  
  
 <span data-ttu-id="d3918-123">Le code suivant illustre l’implémentation du Gestionnaire d’autorisation des revendications personnalisées.</span><span class="sxs-lookup"><span data-stu-id="d3918-123">The following code shows the implementation of the custom claims authorization manager.</span></span> <span data-ttu-id="d3918-124">Le <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> méthode lit et compile la stratégie à partir de la configuration à l’aide de la classe d’assistance de lecteur de stratégie (non illustrée) et le <xref:System.Security.Claims.ClaimsAuthorizationManager.CheckAccess%2A> méthode accorde ou refuse l’accès en fonction de cette stratégie.</span><span class="sxs-lookup"><span data-stu-id="d3918-124">The <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> method reads and compiles the policy from configuration by using the policy reader helper class (not shown) and the <xref:System.Security.Claims.ClaimsAuthorizationManager.CheckAccess%2A> method grants or denies access based on this policy.</span></span>  
  
 [!code-csharp[WifClaimsBasedAuthorization#2](~/samples/snippets/csharp/VS_Snippets_Misc/wifclaimsbasedauthorization/cs/claimsauthorizationlibrary/myclaimsauthorizationmanager.cs#2)]  
  
 <span data-ttu-id="d3918-125">Le code suivant illustre la `ResourceAction` classe utilisée par le Gestionnaire de revendications personnalisées.</span><span class="sxs-lookup"><span data-stu-id="d3918-125">The following code shows the `ResourceAction` class used by the custom claims manager.</span></span>  
  
 [!code-csharp[WifClaimsBasedAuthorization#1](~/samples/snippets/csharp/VS_Snippets_Misc/wifclaimsbasedauthorization/cs/claimsauthorizationlibrary/resourceaction.cs#1)]  
  
 <span data-ttu-id="d3918-126">Le code XML suivant montre comment configurer les revendications de gestionnaire d’autorisations ci-dessus pour une application web hébergée dans IIS 7.5.</span><span class="sxs-lookup"><span data-stu-id="d3918-126">The following XML shows how to configure the claims authorization manager shown above for a web application hosted in IIS 7.5.</span></span> <span data-ttu-id="d3918-127">Seuls les éléments spécifiques à la configuration du Gestionnaire d’autorisation des revendications sont affichés.</span><span class="sxs-lookup"><span data-stu-id="d3918-127">Only the elements specific to the configuration of the claims authorization manager are shown.</span></span> <span data-ttu-id="d3918-128">Notez qu’une référence à la <xref:System.IdentityModel.Services.ClaimsAuthorizationModule> classe doit être ajoutée au pipeline sous le `<system.Webserver>` élément.</span><span class="sxs-lookup"><span data-stu-id="d3918-128">Note that a reference to the <xref:System.IdentityModel.Services.ClaimsAuthorizationModule> class must be added to the pipeline under the `<system.Webserver>` element.</span></span> <span data-ttu-id="d3918-129">Pour les sites et applications hébergées dans les versions d’IIS avant IIS 7, les modules peuvent être ajoutés au pipeline sous le `<system.Web>` élément.</span><span class="sxs-lookup"><span data-stu-id="d3918-129">For sites and applications hosted in versions of IIS prior to IIS 7 the modules can be added to the pipeline under the `<system.Web>` element.</span></span> <span data-ttu-id="d3918-130">Cette configuration est indiquée mais commentée.</span><span class="sxs-lookup"><span data-stu-id="d3918-130">This configuration is shown but commented out.</span></span>  
  
 <span data-ttu-id="d3918-131">La stratégie utilisée par le Gestionnaire d’autorisation des revendications est spécifiée par personnalisé `<policy>` éléments sous le [ &lt;claimsAuthorizationManager&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) élément.</span><span class="sxs-lookup"><span data-stu-id="d3918-131">The policy used by the claims authorization manager is specified by custom `<policy>` elements under the [&lt;claimsAuthorizationManager&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) element.</span></span> <span data-ttu-id="d3918-132">Dans la première stratégie, le principal doit posséder une des revendications spécifiées afin d’effectuer l’action spécifiée sur la ressource spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d3918-132">In the first policy, the principal must possess one of the specified claims in order to perform the specified action on the specified resource.</span></span> <span data-ttu-id="d3918-133">Dans la deuxième stratégie, le principal doit posséder les deux revendications pour être en mesure d’effectuer l’action spécifiée sur la ressource spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d3918-133">In the second policy, the principal must possess both claims to be able to perform the specified action on the specified resource.</span></span> <span data-ttu-id="d3918-134">Dans tous les autres, le principal accès est automatiquement accordé, quel que soit les revendications qu’il possède.</span><span class="sxs-lookup"><span data-stu-id="d3918-134">In all others, the principal is automatically granted access regardless of the claims it possesses.</span></span>  
  
```  
<configuration>  
  <configSections>  
    <!--WIF 4.5 sections -->  
    <section name="system.identityModel" type="System.IdentityModel.Configuration.SystemIdentityModelSection, System.IdentityModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>  
    ...  
  
  </configSections>  
  
  ...  
  
  <system.web>  
    <httpModules>  
      <!--WIF 4.5 modules -->  
      <!--Not needed here for IIS >= 7 -->  
      <!--<add name="ClaimsAuthorizationModule" type="System.IdentityModel.Services.ClaimsAuthorizationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>-->  
    </httpModules>  
  </system.web>  
  
  ...  
  
  <system.webServer>  
    <modules>  
      <!--WIF 4.5 modules -->  
      <add name="ClaimsAuthorizationModule" type="System.IdentityModel.Services.ClaimsAuthorizationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>  
    </modules>  
  </system.webServer>  
  
  ...  
  
  <!-- WIF 4.5 s.im section-->  
  <system.identityModel>  
    <identityConfiguration>  
      <claimsAuthorizationManager type="ClaimsAuthorizationLibrary.MyClaimsAuthorizationManager, ClaimsAuthorizationLibrary">  
        <policy resource="http://localhost:28491/Developers.aspx" action="GET">  
          <or>  
            <claim claimType="http://schemas.microsoft.com/ws/2008/06/identity/claims/role" claimValue="developer" />  
            <claim claimType="http://schemas.xmlsoap.org/claims/Group" claimValue="Administrator" />  
          </or>  
        </policy>  
        <policy resource="http://localhost:28491/Administrators.aspx" action="GET">  
          <and>  
            <claim claimType="http://schemas.xmlsoap.org/claims/Group" claimValue="Administrator" />  
            <claim claimType="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/country" claimValue="USA" />  
          </and>  
        </policy>  
        <policy resource="http://localhost:28491/Default.aspx" action="GET">  
        </policy>  
        <policy resource="http://localhost:28491/" action="GET">  
        </policy>  
        <policy resource="http://localhost:28491/Claims.aspx" action="GET">  
        </policy>  
      </claimsAuthorizationManager>  
  
      ...  
  
    </identityConfiguration>  
  </system.identityModel>  
  ...  
  
</configuration><configuration>  
  <configSections>  
    <!--WIF 4.5 sections -->  
    <section name="system.identityModel" type="System.IdentityModel.Configuration.SystemIdentityModelSection, System.IdentityModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>  
    ...  
  
  </configSections>  
  
  ...  
  
  <system.web>  
    <httpModules>  
      <!--WIF 4.5 modules -->  
      <!--Not needed here for IIS >= 7 -->  
      <!--<add name="ClaimsAuthorizationModule" type="System.IdentityModel.Services.ClaimsAuthorizationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>-->  
    </httpModules>  
  </system.web>  
  
  ...  
  
  <system.webServer>  
    <modules>  
      <!--WIF 4.5 modules -->  
      <add name="ClaimsAuthorizationModule" type="System.IdentityModel.Services.ClaimsAuthorizationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"/>  
    </modules>  
  </system.webServer>  
  
  ...  
  
  <!-- WIF 4.5 s.im section-->  
  <system.identityModel>  
    <identityConfiguration>  
      <claimsAuthorizationManager type="MyClaimsAuthorizationManager.SimpleClaimsAuthorizationManager, MyClaimsAuthorizationManager" />  
      ...  
  
  </system.identityModel>  
  ...  
  
</configuration>  
```  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public ClaimsAuthorizationManager ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Security.Claims.ClaimsAuthorizationManager.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; ClaimsAuthorizationManager();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="d3918-135">Initialise une nouvelle instance de la classe <see cref="T:System.Security.Claims.ClaimsAuthorizationManager" />.</span><span class="sxs-lookup"><span data-stu-id="d3918-135">Initializes a new instance of the <see cref="T:System.Security.Claims.ClaimsAuthorizationManager" /> class.</span></span></summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="CheckAccess">
      <MemberSignature Language="C#" Value="public virtual bool CheckAccess (System.Security.Claims.AuthorizationContext context);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance bool CheckAccess(class System.Security.Claims.AuthorizationContext context) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Security.Claims.ClaimsAuthorizationManager.CheckAccess(System.Security.Claims.AuthorizationContext)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function CheckAccess (context As AuthorizationContext) As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual bool CheckAccess(System::Security::Claims::AuthorizationContext ^ context);" />
      <MemberSignature Language="F#" Value="abstract member CheckAccess : System.Security.Claims.AuthorizationContext -&gt; bool&#xA;override this.CheckAccess : System.Security.Claims.AuthorizationContext -&gt; bool" Usage="claimsAuthorizationManager.CheckAccess context" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="context" Type="System.Security.Claims.AuthorizationContext" />
      </Parameters>
      <Docs>
        <param name="context"><span data-ttu-id="d3918-136">Contexte d'autorisation contenant le sujet, la ressource et l'action pour laquelle l'autorisation doit être vérifiée.</span><span class="sxs-lookup"><span data-stu-id="d3918-136">The authorization context that contains the subject, resource, and action for which authorization is to be checked.</span></span></param>
        <summary><span data-ttu-id="d3918-137">En cas d'implémentation dans une classe dérivée, vérifie l'autorisation du sujet dans le contexte spécifié pour effectuer l'action spécifiée sur la ressource spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d3918-137">When implemented in a derived class, checks authorization for the subject in the specified context to perform the specified action on the specified resource.</span></span></summary>
        <returns><span data-ttu-id="d3918-138"><see langword="true" /> si le sujet est autorisé à exécuter l'action spécifiée dans la ressource spécifiée ; sinon, <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="d3918-138"><see langword="true" /> if the subject is authorized to perform the specified action on the specified resource; otherwise, <see langword="false" />.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="d3918-139">Retourne l’implémentation de base toujours `true`, ce qui autorise l’accès.</span><span class="sxs-lookup"><span data-stu-id="d3918-139">The base implementation always returns `true`, which authorizes access.</span></span> <span data-ttu-id="d3918-140">Vous pouvez substituer cette méthode dans une classe dérivée pour autoriser l’accès en fonction des exigences de votre application de partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="d3918-140">You can override this method in a derived class to authorize access based on the requirements of your RP application.</span></span> <span data-ttu-id="d3918-141">Si cette méthode retourne `false`, Windows Identity Foundation (WIF) retourne une erreur non autorisée à l’appelant ; sinon, l’exécution est passée à l’application de partie de confiance.</span><span class="sxs-lookup"><span data-stu-id="d3918-141">If this method returns `false`, Windows Identity Foundation (WIF) returns an unauthorized error to the caller; otherwise, execution is passed to the RP application.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="d3918-142">Les exemples de code qui sont utilisés dans le <xref:System.Security.Claims.ClaimsAuthorizationManager> rubriques sont extraites de la `Claims Based Authorization` exemple.</span><span class="sxs-lookup"><span data-stu-id="d3918-142">The code examples that are used in the <xref:System.Security.Claims.ClaimsAuthorizationManager> topics are taken from the `Claims Based Authorization` sample.</span></span> <span data-ttu-id="d3918-143">Cet exemple fournit un gestionnaire d’autorisation des revendications personnalisées qui peut autoriser des sujets basés sur une stratégie qui est spécifiée dans la configuration.</span><span class="sxs-lookup"><span data-stu-id="d3918-143">This sample provides a custom claims authorization manager that can authorize subjects based on a policy that is specified in configuration.</span></span> <span data-ttu-id="d3918-144">Le Gestionnaire d’autorisation de revendications personnalisées se compose de trois éléments : une classe dérivée de <xref:System.Security.Claims.ClaimsAuthorizationManager> qui implémente le gestionnaire, la `ResourceAction` classe qui associe une ressource et une action et un lecteur de stratégie qui lit et compile la stratégie est spécifié dans le fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="d3918-144">The custom claims authorization manager consists of three basic components: a class derived from <xref:System.Security.Claims.ClaimsAuthorizationManager> that implements the manager, the `ResourceAction` class that pairs a resource and an action, and a policy reader that reads and compiles policy that is specified in the configuration file.</span></span> <span data-ttu-id="d3918-145">Cette compilé stratégie peut ensuite être utilisée par le Gestionnaire d’autorisation des revendications pour évaluer une entité de sécurité pour autoriser l’accès aux ressources.</span><span class="sxs-lookup"><span data-stu-id="d3918-145">This compiled policy can then be used by the claims authorization manager to evaluate a principal in order to authorize access to resources.</span></span> <span data-ttu-id="d3918-146">Pas tous les éléments sont affichés par souci de concision.</span><span class="sxs-lookup"><span data-stu-id="d3918-146">Not all elements are shown for the sake of brevity.</span></span> <span data-ttu-id="d3918-147">Pour plus d’informations sur cet exemple et d’autres exemples disponibles pour WIF et où les télécharger, consultez [Index exemple de Code WIF](~/docs/framework/security/wif-code-sample-index.md).</span><span class="sxs-lookup"><span data-stu-id="d3918-147">For information about this sample and other samples available for WIF and about where to download them, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span>  
  
 <span data-ttu-id="d3918-148">Le code suivant illustre la substitution de la <xref:System.Security.Claims.ClaimsAuthorizationManager.CheckAccess%2A> (méthode).</span><span class="sxs-lookup"><span data-stu-id="d3918-148">The following code shows the override of the <xref:System.Security.Claims.ClaimsAuthorizationManager.CheckAccess%2A> method.</span></span> <span data-ttu-id="d3918-149">Cette méthode accorde ou refuse l’accès basé sur une stratégie de lecture et compilé à partir du fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="d3918-149">This method grants or denies access based on a policy read and compiled from the configuration file.</span></span>  
  
 [!code-csharp[WifClaimsBasedAuthorization#3](~/samples/snippets/csharp/VS_Snippets_Misc/wifclaimsbasedauthorization/cs/claimsauthorizationlibrary/myclaimsauthorizationmanager.cs#3)]  
[!code-csharp[WifClaimsBasedAuthorization#5](~/samples/snippets/csharp/VS_Snippets_Misc/wifclaimsbasedauthorization/cs/claimsauthorizationlibrary/myclaimsauthorizationmanager.cs#5)]  
  
 <span data-ttu-id="d3918-150">Le code suivant illustre la `ResourceAction` classe utilisée par le Gestionnaire de revendications personnalisées.</span><span class="sxs-lookup"><span data-stu-id="d3918-150">The following code shows the `ResourceAction` class used by the custom claims manager.</span></span>  
  
 [!code-csharp[WifClaimsBasedAuthorization#1](~/samples/snippets/csharp/VS_Snippets_Misc/wifclaimsbasedauthorization/cs/claimsauthorizationlibrary/resourceaction.cs#1)]  
  
 <span data-ttu-id="d3918-151">La stratégie utilisée par le Gestionnaire d’autorisation des revendications est spécifiée par personnalisé `<policy>` éléments sous le [ &lt;claimsAuthorizationManager&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) élément.</span><span class="sxs-lookup"><span data-stu-id="d3918-151">The policy used by the claims authorization manager is specified by custom `<policy>` elements under the [&lt;claimsAuthorizationManager&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) element.</span></span> <span data-ttu-id="d3918-152">Cette stratégie est lu et compilée par le <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> (méthode).</span><span class="sxs-lookup"><span data-stu-id="d3918-152">This policy is read and compiled by the <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> method.</span></span> <span data-ttu-id="d3918-153">Dans la première stratégie, le principal doit posséder une des revendications spécifiées afin d’effectuer l’action spécifiée sur la ressource spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d3918-153">In the first policy, the principal must possess one of the specified claims in order to perform the specified action on the specified resource.</span></span> <span data-ttu-id="d3918-154">Dans la deuxième stratégie, le principal doit posséder les deux revendications pour être en mesure d’effectuer l’action spécifiée sur la ressource spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d3918-154">In the second policy, the principal must possess both claims to be able to perform the specified action on the specified resource.</span></span> <span data-ttu-id="d3918-155">Dans tous les autres, le principal accès est automatiquement accordé, quel que soit les revendications qu’il possède.</span><span class="sxs-lookup"><span data-stu-id="d3918-155">In all others, the principal is automatically granted access regardless of the claims it possesses.</span></span>  
  
```  
<system.identityModel>  
  <identityConfiguration>  
    <claimsAuthorizationManager type="ClaimsAuthorizationLibrary.MyClaimsAuthorizationManager, ClaimsAuthorizationLibrary">  
      <policy resource="http://localhost:28491/Developers.aspx" action="GET">  
        <or>  
          <claim claimType="http://schemas.microsoft.com/ws/2008/06/identity/claims/role" claimValue="developer" />  
          <claim claimType="http://schemas.xmlsoap.org/claims/Group" claimValue="Administrator" />  
        </or>  
      </policy>  
      <policy resource="http://localhost:28491/Administrators.aspx" action="GET">  
        <and>  
          <claim claimType="http://schemas.xmlsoap.org/claims/Group" claimValue="Administrator" />  
          <claim claimType="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/country" claimValue="USA" />  
        </and>  
      </policy>  
      <policy resource="http://localhost:28491/Default.aspx" action="GET">  
      </policy>  
      <policy resource="http://localhost:28491/" action="GET">  
      </policy>  
      <policy resource="http://localhost:28491/Claims.aspx" action="GET">  
      </policy>  
    </claimsAuthorizationManager>  
  
    ...  
  
  </identityConfiguration>  
</system.identityModel>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadCustomConfiguration">
      <MemberSignature Language="C#" Value="public virtual void LoadCustomConfiguration (System.Xml.XmlNodeList nodelist);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void LoadCustomConfiguration(class System.Xml.XmlNodeList nodelist) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration(System.Xml.XmlNodeList)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub LoadCustomConfiguration (nodelist As XmlNodeList)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void LoadCustomConfiguration(System::Xml::XmlNodeList ^ nodelist);" />
      <MemberSignature Language="F#" Value="abstract member LoadCustomConfiguration : System.Xml.XmlNodeList -&gt; unit&#xA;override this.LoadCustomConfiguration : System.Xml.XmlNodeList -&gt; unit" Usage="claimsAuthorizationManager.LoadCustomConfiguration nodelist" />
      <MemberType>Method</MemberType>
      <Implements>
        <InterfaceMember>M:System.IdentityModel.Configuration.ICustomIdentityConfiguration.LoadCustomConfiguration(System.Xml.XmlNodeList)</InterfaceMember>
      </Implements>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="nodelist" Type="System.Xml.XmlNodeList" />
      </Parameters>
      <Docs>
        <param name="nodelist"><span data-ttu-id="d3918-156">Éléments de configuration personnalisée.</span><span class="sxs-lookup"><span data-stu-id="d3918-156">The custom configuration elements.</span></span> <span data-ttu-id="d3918-157">Chaque nœud de la liste est de type <see cref="T:System.Xml.XmlElement" />.</span><span class="sxs-lookup"><span data-stu-id="d3918-157">Each node in the list is of type <see cref="T:System.Xml.XmlElement" />.</span></span></param>
        <summary><span data-ttu-id="d3918-158">Après substitution dans une classe dérivée, charge la configuration personnalisée à partir de XML.</span><span class="sxs-lookup"><span data-stu-id="d3918-158">When overridden in a derived class, loads custom configuration from XML.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="d3918-159">Le <xref:System.Security.Claims.ClaimsAuthenticationManager.LoadCustomConfiguration%2A> méthode est appelée par l’infrastructure de configuration.</span><span class="sxs-lookup"><span data-stu-id="d3918-159">The <xref:System.Security.Claims.ClaimsAuthenticationManager.LoadCustomConfiguration%2A> method is called by the configuration infrastructure.</span></span> <span data-ttu-id="d3918-160">Lorsque cette méthode est appelée, le `nodelist` contiendra les éléments enfants de niveau supérieur de la [ &lt;claimsAuthorizationManager&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) élément à partir du fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="d3918-160">When this method is called, the `nodelist` will contain the top-level child elements of the [&lt;claimsAuthorizationManager&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) element from the configuration file.</span></span> <span data-ttu-id="d3918-161">Chacun de ces éléments peut, à son tour, contenir des attributs ou éléments enfants en fonction du schéma de configuration que vous définissez pour votre classe dérivée.</span><span class="sxs-lookup"><span data-stu-id="d3918-161">Each of these elements may, in turn, contain attributes or child elements depending on the configuration schema you define for your derived class.</span></span> <span data-ttu-id="d3918-162">Si aucun élément enfant s’affiche sous le `<claimsAuthorizationManager>` élément dans le fichier de configuration, cette méthode n’est pas appelée.</span><span class="sxs-lookup"><span data-stu-id="d3918-162">If no child elements appear under the `<claimsAuthorizationManager>` element in the configuration file, this method is not called.</span></span>  
  
 <span data-ttu-id="d3918-163">L’implémentation par défaut lève un <xref:System.NotImplementedException>.</span><span class="sxs-lookup"><span data-stu-id="d3918-163">The default implementation throws a <xref:System.NotImplementedException>.</span></span> <span data-ttu-id="d3918-164">Substituez cette méthode dans votre classe dérivée pour activer l’initialisation de votre gestionnaire d’autorisation des revendications à partir d’un fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="d3918-164">Override this method in your derived class to enable initialization of your claims authorization manager from a configuration file.</span></span> <span data-ttu-id="d3918-165">En règle générale, les éléments de configuration sont utilisés pour exprimer une stratégie d’autorisation ; Toutefois, vous pouvez définir les éléments et les utiliser de quelque manière appropriée en fonction des exigences de votre application.</span><span class="sxs-lookup"><span data-stu-id="d3918-165">Typically, the configuration elements are used to express an authorization policy; however, you can define elements and use them in any way that makes sense based on the requirements of your application.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="d3918-166">Les exemples de code qui sont utilisés dans le <xref:System.Security.Claims.ClaimsAuthorizationManager> rubriques sont extraites de la `Claims Based Authorization` exemple.</span><span class="sxs-lookup"><span data-stu-id="d3918-166">The code examples that are used in the <xref:System.Security.Claims.ClaimsAuthorizationManager> topics are taken from the `Claims Based Authorization` sample.</span></span> <span data-ttu-id="d3918-167">Cet exemple fournit un gestionnaire d’autorisation des revendications personnalisées qui peut autoriser des sujets basés sur une stratégie qui est spécifiée dans la configuration.</span><span class="sxs-lookup"><span data-stu-id="d3918-167">This sample provides a custom claims authorization manager that can authorize subjects based on a policy that is specified in configuration.</span></span> <span data-ttu-id="d3918-168">Le Gestionnaire d’autorisation de revendications personnalisées se compose de trois éléments : une classe dérivée de <xref:System.Security.Claims.ClaimsAuthorizationManager> qui implémente le gestionnaire, la `ResourceAction` classe qui associe une ressource et une action et un lecteur de stratégie qui lit et compile la stratégie est spécifié dans le fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="d3918-168">The custom claims authorization manager consists of three basic components: a class derived from <xref:System.Security.Claims.ClaimsAuthorizationManager> that implements the manager, the `ResourceAction` class that pairs a resource and an action, and a policy reader that reads and compiles policy that is specified in the configuration file.</span></span> <span data-ttu-id="d3918-169">Cette compilé stratégie peut ensuite être utilisée par le Gestionnaire d’autorisation des revendications pour évaluer une entité de sécurité pour autoriser l’accès aux ressources.</span><span class="sxs-lookup"><span data-stu-id="d3918-169">This compiled policy can then be used by the claims authorization manager to evaluate a principal in order to authorize access to resources.</span></span> <span data-ttu-id="d3918-170">Pas tous les éléments sont affichés par souci de concision.</span><span class="sxs-lookup"><span data-stu-id="d3918-170">Not all elements are shown for the sake of brevity.</span></span> <span data-ttu-id="d3918-171">Pour plus d’informations sur cet exemple et d’autres exemples disponibles pour WIF et où les télécharger, consultez [Index exemple de Code WIF](~/docs/framework/security/wif-code-sample-index.md).</span><span class="sxs-lookup"><span data-stu-id="d3918-171">For information about this sample and other samples available for WIF and about where to download them, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span>  
  
 <span data-ttu-id="d3918-172">Le code suivant illustre la substitution de la <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> (méthode).</span><span class="sxs-lookup"><span data-stu-id="d3918-172">The following code shows the override of the <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> method.</span></span> <span data-ttu-id="d3918-173">Cette méthode utilise une classe de lecteur de stratégie d’assistance (non illustrée) pour lire et compiler des stratégies d’autorisation spécifiés dans le fichier de configuration.</span><span class="sxs-lookup"><span data-stu-id="d3918-173">This method uses a helper policy reader class (not shown) to read and compile authorization policies specified in the configuration file.</span></span> <span data-ttu-id="d3918-174">Les stratégies sont ajoutés à un dictionnaire et sont accessibles par un `ResourceAction` objet clé qui est créé à partir de la ressource et l’action à laquelle ils sont destinés.</span><span class="sxs-lookup"><span data-stu-id="d3918-174">Policies are added to a dictionary and are accessed by a `ResourceAction` key object that is created from the resource and action for which they are intended.</span></span>  
  
 [!code-csharp[WifClaimsBasedAuthorization#3](~/samples/snippets/csharp/VS_Snippets_Misc/wifclaimsbasedauthorization/cs/claimsauthorizationlibrary/myclaimsauthorizationmanager.cs#3)]  
[!code-csharp[WifClaimsBasedAuthorization#4](~/samples/snippets/csharp/VS_Snippets_Misc/wifclaimsbasedauthorization/cs/claimsauthorizationlibrary/myclaimsauthorizationmanager.cs#4)]  
  
 <span data-ttu-id="d3918-175">Le code suivant illustre la `ResourceAction` classe utilisée par le Gestionnaire de revendications personnalisées.</span><span class="sxs-lookup"><span data-stu-id="d3918-175">The following code shows the `ResourceAction` class used by the custom claims manager.</span></span>  
  
 [!code-csharp[WifClaimsBasedAuthorization#1](~/samples/snippets/csharp/VS_Snippets_Misc/wifclaimsbasedauthorization/cs/claimsauthorizationlibrary/resourceaction.cs#1)]  
  
 <span data-ttu-id="d3918-176">La stratégie utilisée par le Gestionnaire d’autorisation des revendications est spécifiée par personnalisé `<policy>` éléments sous le [ &lt;claimsAuthorizationManager&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) élément.</span><span class="sxs-lookup"><span data-stu-id="d3918-176">The policy used by the claims authorization manager is specified by custom `<policy>` elements under the [&lt;claimsAuthorizationManager&gt;](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) element.</span></span> <span data-ttu-id="d3918-177">Cette stratégie est lu et compilée par le <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> (méthode).</span><span class="sxs-lookup"><span data-stu-id="d3918-177">This policy is read and compiled by the <xref:System.Security.Claims.ClaimsAuthorizationManager.LoadCustomConfiguration%2A> method.</span></span> <span data-ttu-id="d3918-178">Dans la première stratégie, le principal doit posséder une des revendications spécifiées afin d’effectuer l’action spécifiée sur la ressource spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d3918-178">In the first policy, the principal must possess one of the specified claims in order to perform the specified action on the specified resource.</span></span> <span data-ttu-id="d3918-179">Dans la deuxième stratégie, le principal doit posséder les deux revendications pour être en mesure d’effectuer l’action spécifiée sur la ressource spécifiée.</span><span class="sxs-lookup"><span data-stu-id="d3918-179">In the second policy, the principal must possess both claims to be able to perform the specified action on the specified resource.</span></span> <span data-ttu-id="d3918-180">Dans tous les autres, le principal accès est automatiquement accordé, quel que soit les revendications qu’il possède.</span><span class="sxs-lookup"><span data-stu-id="d3918-180">In all others, the principal is automatically granted access regardless of the claims it possesses.</span></span>  
  
```  
<system.identityModel>  
  <identityConfiguration>  
    <claimsAuthorizationManager type="ClaimsAuthorizationLibrary.MyClaimsAuthorizationManager, ClaimsAuthorizationLibrary">  
      <policy resource="http://localhost:28491/Developers.aspx" action="GET">  
        <or>  
          <claim claimType="http://schemas.microsoft.com/ws/2008/06/identity/claims/role" claimValue="developer" />  
          <claim claimType="http://schemas.xmlsoap.org/claims/Group" claimValue="Administrator" />  
        </or>  
      </policy>  
      <policy resource="http://localhost:28491/Administrators.aspx" action="GET">  
        <and>  
          <claim claimType="http://schemas.xmlsoap.org/claims/Group" claimValue="Administrator" />  
          <claim claimType="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/country" claimValue="USA" />  
        </and>  
      </policy>  
      <policy resource="http://localhost:28491/Default.aspx" action="GET">  
      </policy>  
      <policy resource="http://localhost:28491/" action="GET">  
      </policy>  
      <policy resource="http://localhost:28491/Claims.aspx" action="GET">  
      </policy>  
    </claimsAuthorizationManager>  
  
    ...  
  
  </identityConfiguration>  
</system.identityModel>  
```  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>