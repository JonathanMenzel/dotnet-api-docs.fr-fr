<Type Name="CorrelationManager" FullName="System.Diagnostics.CorrelationManager">
  <TypeSignature Language="C#" Value="public class CorrelationManager" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit CorrelationManager extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Diagnostics.CorrelationManager" />
  <TypeSignature Language="VB.NET" Value="Public Class CorrelationManager" />
  <TypeSignature Language="C++ CLI" Value="public ref class CorrelationManager" />
  <AssemblyInfo>
    <AssemblyName>System</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Diagnostics.TraceSource</AssemblyName>
    <AssemblyVersion>4.1.0.0</AssemblyVersion>
    <AssemblyVersion>4.1.1.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="018b1-101">Met en correspondance des traces qui font partie d'une transaction logique.</span><span class="sxs-lookup"><span data-stu-id="018b1-101">Correlates traces that are part of a logical transaction.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="018b1-102">Suivis générés à partir d’une seule opération logique peuvent être marquées avec une identité unique de l’opération, afin de les distinguer des traces à partir d’une autre opération logique.</span><span class="sxs-lookup"><span data-stu-id="018b1-102">Traces generated from a single logical operation can be tagged with an operation-unique identity, in order to distinguish them from traces from a different logical operation.</span></span> <span data-ttu-id="018b1-103">Par exemple, il peut être utile de grouper des traces corrélé par demande ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="018b1-103">For example, it may be useful to group correlated traces by ASP.NET request.</span></span> <span data-ttu-id="018b1-104">La <xref:System.Diagnostics.CorrelationManager> classe fournit des méthodes utilisées pour stocker une identité d’opération logique dans un contexte lié par thread et baliser automatiquement chaque événement de trace généré par le thread dont l’identité est stockée.</span><span class="sxs-lookup"><span data-stu-id="018b1-104">The <xref:System.Diagnostics.CorrelationManager> class provides methods used to store a logical operation identity in a thread-bound context and automatically tag each trace event generated by the thread with the stored identity.</span></span>  
  
 <span data-ttu-id="018b1-105">Opérations logiques peuvent également être imbriquées.</span><span class="sxs-lookup"><span data-stu-id="018b1-105">Logical operations can also be nested.</span></span> <span data-ttu-id="018b1-106">Le <xref:System.Diagnostics.CorrelationManager.LogicalOperationStack%2A> propriété expose la pile des identités d’opération logique imbriquées.</span><span class="sxs-lookup"><span data-stu-id="018b1-106">The <xref:System.Diagnostics.CorrelationManager.LogicalOperationStack%2A> property exposes the stack of nested logical operation identities.</span></span> <span data-ttu-id="018b1-107">Chaque appel à la <xref:System.Diagnostics.CorrelationManager.StartLogicalOperation%2A> méthode exécute un push d’une nouvelle identité d’opération logique sur la pile.</span><span class="sxs-lookup"><span data-stu-id="018b1-107">Each call to the <xref:System.Diagnostics.CorrelationManager.StartLogicalOperation%2A> method pushes a new logical operation identity onto the stack.</span></span> <span data-ttu-id="018b1-108">Chaque appel à la <xref:System.Diagnostics.CorrelationManager.StopLogicalOperation%2A> méthode Dépile une identité d’opération logique de la pile.</span><span class="sxs-lookup"><span data-stu-id="018b1-108">Each call to the <xref:System.Diagnostics.CorrelationManager.StopLogicalOperation%2A> method pops a logical operation identity off the stack.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="018b1-109">Identités d’opération logique sont des objets, ce qui permet l’utilisation d’un type pour une identité d’opération logique.</span><span class="sxs-lookup"><span data-stu-id="018b1-109">Logical operation identities are objects, allowing the use of a type for a logical operation identity.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="018b1-110">L’exemple de code suivant illustre l’utilisation de la <xref:System.Diagnostics.CorrelationManager> classe en identifiant l’opération logique associée à un événement tracé.</span><span class="sxs-lookup"><span data-stu-id="018b1-110">The following code example demonstrates the use of the <xref:System.Diagnostics.CorrelationManager> class by identifying the logical operation associated with a traced event.</span></span> <span data-ttu-id="018b1-111">Deux opérations logiques sont démarrées, un dans le thread principal et l’autre dans un thread de travail.</span><span class="sxs-lookup"><span data-stu-id="018b1-111">Two logical operations are started, one in the main thread and the other in a worker thread.</span></span> <span data-ttu-id="018b1-112">Un événement d’erreur est enregistré dans les deux opérations logiques.</span><span class="sxs-lookup"><span data-stu-id="018b1-112">An error event is logged in both logical operations.</span></span>  
  
 [!code-cpp[System.Diagnostics.CorrelationManager#1](~/samples/snippets/cpp/VS_Snippets_CLR_System/system.Diagnostics.CorrelationManager/cpp/correlationmanager.cpp#1)]
 [!code-csharp[System.Diagnostics.CorrelationManager#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.CorrelationManager/cs/program.cs#1)]
 [!code-vb[System.Diagnostics.CorrelationManager#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.CorrelationManager/vb/module1.vb#1)]  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName="ActivityId">
      <MemberSignature Language="C#" Value="public Guid ActivityId { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Guid ActivityId" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.CorrelationManager.ActivityId" />
      <MemberSignature Language="VB.NET" Value="Public Property ActivityId As Guid" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property Guid ActivityId { Guid get(); void set(Guid value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.TraceSource</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Guid</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="018b1-113">Obtient ou définit l'identité pour une activité globale.</span><span class="sxs-lookup"><span data-stu-id="018b1-113">Gets or sets the identity for a global activity.</span></span></summary>
        <value><span data-ttu-id="018b1-114">Structure <see cref="T:System.Guid" /> qui identifie l'activité globale.</span><span class="sxs-lookup"><span data-stu-id="018b1-114">A <see cref="T:System.Guid" /> structure that identifies the global activity.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="018b1-115">Le <xref:System.Diagnostics.CorrelationManager.ActivityId%2A> propriété obtient et définit l’identité de l’activité globale dans le <xref:System.Runtime.Remoting.Messaging.CallContext> pour le thread.</span><span class="sxs-lookup"><span data-stu-id="018b1-115">The <xref:System.Diagnostics.CorrelationManager.ActivityId%2A> property gets and sets the global activity identity in the <xref:System.Runtime.Remoting.Messaging.CallContext> for the thread.</span></span> <span data-ttu-id="018b1-116">Le <xref:System.Diagnostics.CorrelationManager.ActivityId%2A> est utilisé pour les opérations de transfert de trace dans les écouteurs de suivi qui remplacent la <xref:System.Diagnostics.TraceListener.TraceTransfer%2A> méthode, telles que la <xref:System.Diagnostics.XmlWriterTraceListener> classe.</span><span class="sxs-lookup"><span data-stu-id="018b1-116">The <xref:System.Diagnostics.CorrelationManager.ActivityId%2A> is used for trace transfer operations in trace listeners that override the <xref:System.Diagnostics.TraceListener.TraceTransfer%2A> method, such as the <xref:System.Diagnostics.XmlWriterTraceListener> class.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LogicalOperationStack">
      <MemberSignature Language="C#" Value="public System.Collections.Stack LogicalOperationStack { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Collections.Stack LogicalOperationStack" />
      <MemberSignature Language="DocId" Value="P:System.Diagnostics.CorrelationManager.LogicalOperationStack" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property LogicalOperationStack As Stack" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Collections::Stack ^ LogicalOperationStack { System::Collections::Stack ^ get(); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.TraceSource</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.Stack</ReturnType>
      </ReturnValue>
      <Docs>
        <summary><span data-ttu-id="018b1-117">Obtient la pile d'opération logique du contexte d'appel.</span><span class="sxs-lookup"><span data-stu-id="018b1-117">Gets the logical operation stack from the call context.</span></span></summary>
        <value><span data-ttu-id="018b1-118">Objet <see cref="T:System.Collections.Stack" /> qui représente la pile d'opération logique pour le contexte d'appel.</span><span class="sxs-lookup"><span data-stu-id="018b1-118">A <see cref="T:System.Collections.Stack" /> object that represents the logical operation stack for the call context.</span></span></value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="018b1-119">Chaque appel à la <xref:System.Diagnostics.CorrelationManager.StartLogicalOperation%2A> méthode exécute un push d’une nouvelle identité d’opération logique sur le <xref:System.Diagnostics.CorrelationManager.LogicalOperationStack%2A> pile de la propriété.</span><span class="sxs-lookup"><span data-stu-id="018b1-119">Each call to the <xref:System.Diagnostics.CorrelationManager.StartLogicalOperation%2A> method pushes a new logical operation identity onto the <xref:System.Diagnostics.CorrelationManager.LogicalOperationStack%2A> property's stack.</span></span> <span data-ttu-id="018b1-120">Chaque appel à la <xref:System.Diagnostics.CorrelationManager.StopLogicalOperation%2A> méthode Dépile une identité d’opération logique de la pile.</span><span class="sxs-lookup"><span data-stu-id="018b1-120">Each call to the <xref:System.Diagnostics.CorrelationManager.StopLogicalOperation%2A> method pops a logical operation identity from the stack.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <MemberGroup MemberName="StartLogicalOperation">
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="018b1-121">Démarre une opération logique sur un thread.</span><span class="sxs-lookup"><span data-stu-id="018b1-121">Starts a logical operation on a thread.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="StartLogicalOperation">
      <MemberSignature Language="C#" Value="public void StartLogicalOperation ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void StartLogicalOperation() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.CorrelationManager.StartLogicalOperation" />
      <MemberSignature Language="VB.NET" Value="Public Sub StartLogicalOperation ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void StartLogicalOperation();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.TraceSource</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="018b1-122">Démarre une opération logique sur un thread.</span><span class="sxs-lookup"><span data-stu-id="018b1-122">Starts a logical operation on a thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="018b1-123">L’opération logique est démarrée à l’aide d’un GUID généré automatiquement pour un identificateur d’opération logique.</span><span class="sxs-lookup"><span data-stu-id="018b1-123">The logical operation is started using an automatically generated GUID for a logical operation identifier.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="StartLogicalOperation">
      <MemberSignature Language="C#" Value="public void StartLogicalOperation (object operationId);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void StartLogicalOperation(object operationId) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.CorrelationManager.StartLogicalOperation(System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Sub StartLogicalOperation (operationId As Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void StartLogicalOperation(System::Object ^ operationId);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.TraceSource</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="operationId" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="operationId"><span data-ttu-id="018b1-124">Objet qui identifie l'opération.</span><span class="sxs-lookup"><span data-stu-id="018b1-124">An object identifying the operation.</span></span></param>
        <summary><span data-ttu-id="018b1-125">Démarre une opération logique avec l'identité spécifiée sur un thread.</span><span class="sxs-lookup"><span data-stu-id="018b1-125">Starts a logical operation with the specified identity on a thread.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="018b1-126">Le `operationId` paramètre peut être n’importe quel objet, comme un <xref:System.String> qui permet d’être identifiée à des fins de suivi de l’opération.</span><span class="sxs-lookup"><span data-stu-id="018b1-126">The `operationId` parameter can be any object, such as a <xref:System.String> that allows the operation to be identified for tracing purposes.</span></span> <span data-ttu-id="018b1-127">L’objet représenté par `operationId` est ajouté à la <xref:System.Diagnostics.CorrelationManager.LogicalOperationStack%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="018b1-127">The object represented by `operationId` is added to the <xref:System.Diagnostics.CorrelationManager.LogicalOperationStack%2A> property.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="018b1-128">L’exemple de code suivant illustre l’utilisation de la <xref:System.Diagnostics.CorrelationManager.StartLogicalOperation%28System.Object%29> méthode en initialisant une opération logique à associer au thread principal.</span><span class="sxs-lookup"><span data-stu-id="018b1-128">The following code example demonstrates the use of the <xref:System.Diagnostics.CorrelationManager.StartLogicalOperation%28System.Object%29> method by initializing a logical operation to be associated with the main thread.</span></span> <span data-ttu-id="018b1-129">Pour l’exemple de code complet, consultez la <xref:System.Diagnostics.CorrelationManager> classe.</span><span class="sxs-lookup"><span data-stu-id="018b1-129">For the complete code example, see the <xref:System.Diagnostics.CorrelationManager> class.</span></span>  
  
 [!code-csharp[System.Diagnostics.CorrelationManager#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.Diagnostics.CorrelationManager/cs/program.cs#2)]
 [!code-vb[System.Diagnostics.CorrelationManager#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.Diagnostics.CorrelationManager/vb/module1.vb#2)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="018b1-130">Le paramètre <paramref name="operationId" /> a la valeur <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="018b1-130">The <paramref name="operationId" /> parameter is <see langword="null" />.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="StopLogicalOperation">
      <MemberSignature Language="C#" Value="public void StopLogicalOperation ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void StopLogicalOperation() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Diagnostics.CorrelationManager.StopLogicalOperation" />
      <MemberSignature Language="VB.NET" Value="Public Sub StopLogicalOperation ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void StopLogicalOperation();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Diagnostics.TraceSource</AssemblyName>
        <AssemblyVersion>4.1.0.0</AssemblyVersion>
        <AssemblyVersion>4.1.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary><span data-ttu-id="018b1-131">Arrête l'opération logique actuelle.</span><span class="sxs-lookup"><span data-stu-id="018b1-131">Stops the current logical operation.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="018b1-132">L’opération logique est arrêtée et l’identité de l’opération logique est supprimée de la <xref:System.Diagnostics.CorrelationManager.LogicalOperationStack%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="018b1-132">The logical operation is halted and the logical operation identity is removed from the <xref:System.Diagnostics.CorrelationManager.LogicalOperationStack%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="018b1-133">La propriété <see cref="P:System.Diagnostics.CorrelationManager.LogicalOperationStack" /> est une pile vide.</span><span class="sxs-lookup"><span data-stu-id="018b1-133">The <see cref="P:System.Diagnostics.CorrelationManager.LogicalOperationStack" /> property is an empty stack.</span></span></exception>
      </Docs>
    </Member>
  </Members>
</Type>