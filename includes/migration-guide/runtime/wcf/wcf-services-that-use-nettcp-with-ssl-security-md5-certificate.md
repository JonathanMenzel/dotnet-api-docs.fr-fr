### <a name="wcf-services-that-use-nettcp-with-ssl-security-and-md5-certificate-authentication"></a><span data-ttu-id="495b7-101">Services WCF qui utilisent NETTCP avec la sécurité SSL et l’authentification du certificat MD5</span><span class="sxs-lookup"><span data-stu-id="495b7-101">WCF services that use NETTCP with SSL security and MD5 certificate authentication</span></span>

|   |   |
|---|---|
|<span data-ttu-id="495b7-102">Détails</span><span class="sxs-lookup"><span data-stu-id="495b7-102">Details</span></span>|<span data-ttu-id="495b7-103">Le .NET Framework 4.6 ajoute TLS 1.1 et TLS 1.2 à la liste des protocoles WCF SSL par défaut.</span><span class="sxs-lookup"><span data-stu-id="495b7-103">The .NET Framework 4.6 adds TLS 1.1 and TLS 1.2 to the WCF SSL default protocol list.</span></span> <span data-ttu-id="495b7-104">Lorsque les ordinateurs client et serveur .NET Framework 4.6 ou version ultérieure installé, TLS 1.2 est utilisé pour la négociation. TLS 1.2 ne prend pas en charge l’authentification par certificat de MD5.</span><span class="sxs-lookup"><span data-stu-id="495b7-104">When both client and server machines have the .NET Framework 4.6 or later installed, TLS 1.2 is used for negotiation.TLS 1.2 does not support MD5 certificate authentication.</span></span> <span data-ttu-id="495b7-105">Par conséquent, si un client utilise un certificat MD5, le client WCF ne parviendra pas à se connecter au service WCF.</span><span class="sxs-lookup"><span data-stu-id="495b7-105">As a result, if a customer uses an MD5 certificate, the WCF client will fail to connect to the WCF service.</span></span>|
|<span data-ttu-id="495b7-106">Suggestion</span><span class="sxs-lookup"><span data-stu-id="495b7-106">Suggestion</span></span>|<span data-ttu-id="495b7-107">Vous pouvez contourner ce problème afin qu’un client WCF puisse se connecter à un serveur WCF en effectuant une des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="495b7-107">You can work around this issue so that a WCF client can connect to a WCF server by doing any of the following:</span></span><ul><li><span data-ttu-id="495b7-108">Mettez à jour le certificat pour ne pas utiliser l’algorithme MD5.</span><span class="sxs-lookup"><span data-stu-id="495b7-108">Update the certificate to not use the MD5 algorithm.</span></span> <span data-ttu-id="495b7-109">Il s'agit de la solution recommandée.</span><span class="sxs-lookup"><span data-stu-id="495b7-109">This is the recommended solution.</span></span></li><li><span data-ttu-id="495b7-110">Si la liaison n’est pas configurée dynamiquement dans le code source, mettez à jour le fichier de configuration de l’application pour utiliser TLS 1.1 ou une version antérieure du protocole.</span><span class="sxs-lookup"><span data-stu-id="495b7-110">If the binding is not dynamically configured in source code, update the application's configuration file to use TLS 1.1 or an earlier version of the protocol.</span></span> <span data-ttu-id="495b7-111">Cela vous permet de continuer à utiliser un certificat avec l’algorithme de hachage MD5.</span><span class="sxs-lookup"><span data-stu-id="495b7-111">This allows you to continue to use a certificate with the MD5 hash algorithm.</span></span></li></ul> <blockquote> [!WARNING] <span data-ttu-id="495b7-112">Cette solution de contournement n’est pas recommandée, car un certificat avec l’algorithme de hachage MD5 est considéré comme non sécurisé.</span><span class="sxs-lookup"><span data-stu-id="495b7-112">This workaround is not recommended, since a certificate with the MD5 hash algorithm is considered insecure.</span></span></blockquote> <span data-ttu-id="495b7-113">Le fichier de configuration suivant effectue ceci :</span><span class="sxs-lookup"><span data-stu-id="495b7-113">The following configuration file does this:</span></span><pre><code class="language-xml">&lt;configuration&gt;&#13;&#10;&lt;system.serviceModel&gt;&#13;&#10;&lt;bindings&gt;&#13;&#10;&lt;netTcpBinding&gt;&#13;&#10;&lt;binding&gt;&#13;&#10;&lt;security mode= &quot;None/Transport/Message/TransportWithMessageCredential&quot; &gt;&#13;&#10;&lt;transport clientCredentialType=&quot;None/Windows/Certificate&quot;&#13;&#10;protectionLevel=&quot;None/Sign/EncryptAndSign&quot;&#13;&#10;sslProtocols=&quot;Ssl3/Tls1/Tls11&quot;&gt;&#13;&#10;&lt;/transport&gt;&#13;&#10;&lt;/security&gt;&#13;&#10;&lt;/binding&gt;&#13;&#10;&lt;/netTcpBinding&gt;&#13;&#10;&lt;/bindings&gt;&#13;&#10;&lt;/system.ServiceModel&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre><ul><li><span data-ttu-id="495b7-114">Si la liaison est configurée dynamiquement dans le code source, mettez à jour le <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols?displayProperty=nameWithType> propriété pour utiliser TLS 1.1 (<xref:System.Security.Authentication.SslProtocols.Tls11?displayProperty=nameWithType> ou une version antérieure du protocole dans le code source.</span><span class="sxs-lookup"><span data-stu-id="495b7-114">If the binding is dynamically configured in source code, update the <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols?displayProperty=nameWithType> property to use TLS 1.1 (<xref:System.Security.Authentication.SslProtocols.Tls11?displayProperty=nameWithType> or an earlier version of the protocol in the source code.</span></span></li></ul> <blockquote> [!WARNING] <span data-ttu-id="495b7-115">Cette solution de contournement n’est pas recommandée, car un certificat avec l’algorithme de hachage MD5 est considéré comme non sécurisé.</span><span class="sxs-lookup"><span data-stu-id="495b7-115">This workaround is not recommended, since a certificate with the MD5 hash algorithm is considered insecure.</span></span></blockquote> |
|<span data-ttu-id="495b7-116">Portée</span><span class="sxs-lookup"><span data-stu-id="495b7-116">Scope</span></span>|<span data-ttu-id="495b7-117">Mineur</span><span class="sxs-lookup"><span data-stu-id="495b7-117">Minor</span></span>|
|<span data-ttu-id="495b7-118">Version</span><span class="sxs-lookup"><span data-stu-id="495b7-118">Version</span></span>|<span data-ttu-id="495b7-119">4.6</span><span class="sxs-lookup"><span data-stu-id="495b7-119">4.6</span></span>|
|<span data-ttu-id="495b7-120">Type</span><span class="sxs-lookup"><span data-stu-id="495b7-120">Type</span></span>|<span data-ttu-id="495b7-121">Runtime</span><span class="sxs-lookup"><span data-stu-id="495b7-121">Runtime</span></span>|

