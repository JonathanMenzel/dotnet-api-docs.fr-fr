### <a name="horizontal-scrolling-and-virtualization"></a><span data-ttu-id="97fcc-101">Défilement horizontal et la virtualisation</span><span class="sxs-lookup"><span data-stu-id="97fcc-101">Horizontal scrolling and virtualization</span></span>

|   |   |
|---|---|
|<span data-ttu-id="97fcc-102">Détails</span><span class="sxs-lookup"><span data-stu-id="97fcc-102">Details</span></span>|<span data-ttu-id="97fcc-103">Cette modification s’applique à un <xref:System.Windows.Controls.ItemsControl?displayProperty=name> qui effectue son propre virtualisation dans le sens orthogonale à la direction de défilement principale (l’exemple principal est <xref:System.Windows.Controls.DataGrid?displayProperty=name> avec EnableColumnVirtualization =&quot;True&quot;).</span><span class="sxs-lookup"><span data-stu-id="97fcc-103">This change applies to an <xref:System.Windows.Controls.ItemsControl?displayProperty=name> that does its own virtualization in the direction orthogonal to the main scrolling direction (the chief example is <xref:System.Windows.Controls.DataGrid?displayProperty=name> with EnableColumnVirtualization=&quot;True&quot;).</span></span>  <span data-ttu-id="97fcc-104">Le résultat de certaines opérations de défilement horizontales a été modifié pour produire des résultats qui sont plus intuitive et plus similaire pour les résultats des opérations verticales comparables. Les opérations suivantes sont &quot;défilement ici&quot; et &quot;bord droit&quot;, pour utiliser les noms à partir du menu obtenu en double-cliquant sur une barre de défilement horizontale.</span><span class="sxs-lookup"><span data-stu-id="97fcc-104">The outcome of certain horizontal scrolling operations has been changed to produce results that are more intuitive and more analogous to the results of comparable vertical operations.The operations include &quot;Scroll Here&quot; and &quot;Right Edge&quot;, to use the names from the menu obtained by right-clicking a horizontal scrollbar.</span></span>  <span data-ttu-id="97fcc-105">Ces deux éléments de calcul un décalage de candidat et un appel <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>. Après le défilement à l’offset de nouveau, la notion de &quot;ici&quot; ou &quot;droit&quot; ont peut-être été modifiées qui vient d’être virtualisé Annuler contenu a été modifié la valeur de <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>. Avant .net 4.6.2, l’opération de défilement utilise simplement le décalage candidate, bien qu’il ne peut pas être &quot;ici&quot; ou à la &quot;droit&quot; plus.</span><span class="sxs-lookup"><span data-stu-id="97fcc-105">Both of these compute a candidate offset and call <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>.After scrolling to the new offset, the notion of &quot;here&quot; or &quot;right edge&quot; may have changed because newly de-virtualized content has changed the value of <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>.Prior to .Net 4.6.2, the scroll operation simply uses the candidate offset, even though it may not be &quot;here&quot; or at the &quot;right edge&quot; any more.</span></span>  <span data-ttu-id="97fcc-106">Cela entraîne des effets tels que &quot;rebondissent&quot; le curseur de défilement, meilleures illustré par l’exemple.</span><span class="sxs-lookup"><span data-stu-id="97fcc-106">This results in effects like &quot;bouncing&quot; the scroll thumb, best illustrated by example.</span></span> <span data-ttu-id="97fcc-107">Supposons qu’un <xref:System.Windows.Controls.DataGrid?displayProperty=name> a ExtentWidth = 1000 et la largeur = 200.</span><span class="sxs-lookup"><span data-stu-id="97fcc-107">Suppose a <xref:System.Windows.Controls.DataGrid?displayProperty=name> has ExtentWidth=1000 and Width=200.</span></span>  <span data-ttu-id="97fcc-108">Faites défiler un &quot;bord droit&quot; candidat utilise décalage 200-1000 = 800.</span><span class="sxs-lookup"><span data-stu-id="97fcc-108">A scroll to &quot;Right Edge&quot; uses candidate offset 1000 - 200 = 800.</span></span>  <span data-ttu-id="97fcc-109">Pendant le défilement à la fonction, les nouvelles colonnes sont de-virtualisé ; Supposons qu’ils sont très larges, afin que le <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> change à 2000.</span><span class="sxs-lookup"><span data-stu-id="97fcc-109">While scrolling to that offset, new columns are de- virtualized; let's suppose they are very wide, so that the <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> changes to 2000.</span></span>  <span data-ttu-id="97fcc-110">Le défilement se termine par HorizontalOffset = 800 et curseur &quot;rebondit&quot; à proximité du centre de la barre de défilement - précisément à 800/2000 = 40 %. La modification consiste à recalculer un nouveau décalage de candidat Lorsque cette situation se produit, puis réessayez.</span><span class="sxs-lookup"><span data-stu-id="97fcc-110">The scroll ends with HorizontalOffset=800, and the thumb &quot;bounces&quot; back to near the middle of the scrollbar - precisely at 800/2000 = 40%.The change is to recompute a new candidate offset when this situation occurs, and try again.</span></span> <span data-ttu-id="97fcc-111">(Il s’agit d’un défilement vertical comment fonctionne déjà.) La modification génère une expérience plus prévisible et plus intuitive pour l’utilisateur final, mais il peut également affecter n’importe quelle application qui dépend de la valeur exacte du <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> après une barre de défilement horizontale, si l’appelé par l’utilisateur final ou par un appel explicite à <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>.</span><span class="sxs-lookup"><span data-stu-id="97fcc-111">(This is how vertical scrolling works already.)The change produces a more predictable and intuitive experience for the end user, but it could also affect any app that depends on the exact value of <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> after a horizontal scroll, whether invoked by the end user or by an explicit call to <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>.</span></span>|
|<span data-ttu-id="97fcc-112">Suggestion</span><span class="sxs-lookup"><span data-stu-id="97fcc-112">Suggestion</span></span>|<span data-ttu-id="97fcc-113">Une application qui utilise une valeur prédite pour <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> doit être modifié pour extraire la valeur réelle (et la valeur de <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>) après un défilement horizontal susceptibles de changer <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> en raison de la virtualisation de déduplication.</span><span class="sxs-lookup"><span data-stu-id="97fcc-113">An app that uses a predicted value for <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> should be changed to fetch the actual value (and the value of <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>) after any horizontal scroll that could change <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> due to de-virtualization.</span></span>|
|<span data-ttu-id="97fcc-114">Portée</span><span class="sxs-lookup"><span data-stu-id="97fcc-114">Scope</span></span>|<span data-ttu-id="97fcc-115">Mineur</span><span class="sxs-lookup"><span data-stu-id="97fcc-115">Minor</span></span>|
|<span data-ttu-id="97fcc-116">Version</span><span class="sxs-lookup"><span data-stu-id="97fcc-116">Version</span></span>|<span data-ttu-id="97fcc-117">4.6.2</span><span class="sxs-lookup"><span data-stu-id="97fcc-117">4.6.2</span></span>|
|<span data-ttu-id="97fcc-118">Type</span><span class="sxs-lookup"><span data-stu-id="97fcc-118">Type</span></span>|<span data-ttu-id="97fcc-119">Runtime</span><span class="sxs-lookup"><span data-stu-id="97fcc-119">Runtime</span></span>|
|<span data-ttu-id="97fcc-120">API affectées</span><span class="sxs-lookup"><span data-stu-id="97fcc-120">Affected APIs</span></span>|<ul><li><xref:System.Windows.Controls.Primitives.IScrollInfo?displayProperty=nameWithType></li></ul>|

