### <a name="change-in-path-separator-character-in-fullname-property-of-ziparchiveentry-objects"></a>Changement du caractère séparateur de chemin dans la propriété FullName des objets ZipArchiveEntry

|   |   |
|---|---|
|Détails|Pour les applications qui ciblent .NET Framework 4.6.1 et les versions ultérieures, le caractère séparateur de chemin a changé. Il ne s’agit plus d’une barre oblique inverse (&quot;&quot;), mais d’une barre oblique (&quot;/&quot;) dans la propriété <xref:System.IO.Compression.ZipArchiveEntry.FullName> des objets <xref:System.IO.Compression.ZipArchiveEntry> créés par les surcharges de la méthode <xref:System.IO.Compression.ZipFile.CreateFromDirectory%2A>. L’implémentation .NET est ainsi conforme à la section 4.4.17.1 des [Spécifications relatives au format des fichiers ZIP](https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT) et permet aux archives ZIP d’être décompressées sur des systèmes non Windows. Décompresser un fichier zip créé par une application qui cible une version antérieure du .NET Framework sur les systèmes d’exploitation autres que Windows, comme Macintosh, ne permet pas de conserver la structure de répertoire. Par exemple, pour les ordinateurs Macintosh, cela crée un ensemble de fichiers dont le nom concatène le chemin, ainsi que toute barre oblique inverse (&quot;&quot;), et le nom de fichier. Par conséquent, la structure de répertoires des fichiers décompressés n’est pas conservée.|
|Suggestion|L’impact de ce changement sur les fichiers .ZIP qui sont décompressés sur le système d’exploitation Windows par des API dans l’espace de noms <xref:System.IO?displayProperty=nameWithType> du .NET Framework doit être minimal, étant donné que ces API peuvent gérer de manière fluide aussi bien une barre oblique (&quot;/&quot;) qu’une barre oblique inverse (&quot;\&quot;) comme séparateur de chemin. Si ce changement n’est pas souhaitable, vous pouvez le refuser en ajoutant un paramètre de configuration à la section [\<runtime>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) de votre fichier de configuration d’application. L’exemple suivant montre la section `<runtime>` et l’option d’annulation `Switch.System.IO.Compression.ZipFile.UseBackslash` :<pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.IO.Compression.ZipFile.UseBackslash=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>De plus, les applications qui ciblent des versions antérieures du .NET Framework mais qui s’exécutent sur .NET Framework 4.6.1 ou les versions ultérieures peuvent accepter ce comportement en ajoutant un paramètre de configuration à la section [\<runtime>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) du fichier de configuration de l’application. L’exemple suivant montre la section `<runtime>` et l’option d’activation `Switch.System.IO.Compression.ZipFile.UseBackslash`.<pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.IO.Compression.ZipFile.UseBackslash=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>|
|Portée|Microsoft Edge|
|Version|4.6.1|
|Type|Reciblage|
|API affectées|<ul><li><xref:System.IO.Compression.ZipFile.CreateFromDirectory(System.String,System.String)?displayProperty=nameWithType></li><li><xref:System.IO.Compression.ZipFile.CreateFromDirectory(System.String,System.String,System.IO.Compression.CompressionLevel,System.Boolean)?displayProperty=nameWithType></li><li><xref:System.IO.Compression.ZipFile.CreateFromDirectory(System.String,System.String,System.IO.Compression.CompressionLevel,System.Boolean,System.Text.Encoding)?displayProperty=nameWithType></li></ul>|

