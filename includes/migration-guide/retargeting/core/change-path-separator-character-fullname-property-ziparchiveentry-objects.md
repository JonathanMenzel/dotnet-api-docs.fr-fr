### <a name="change-in-path-separator-character-in-fullname-property-of-ziparchiveentry-objects"></a>Changer de séparateur de chemin d’accès dans la propriété FullName de ZipArchiveEntry objets

|   |   |
|---|---|
|Détails|Pour les applications qui ciblent le .NET Framework 4.6.1 et versions ultérieures, le séparateur de chemin d’accès a changé à partir d’une barre oblique inverse (&quot;&quot;) à une barre oblique (&quot;/&quot;) dans le <xref:System.IO.Compression.ZipArchiveEntry.FullName> propriété de <xref:System.IO.Compression.ZipArchiveEntry> les objets créés par les surcharges de la <xref:System.IO.Compression.ZipFile.CreateFromDirectory%2A> (méthode). La modification met l’implémentation .NET en conformité avec la section 4.4.17.1 de la [. Spécification de Format de fichier ZIP](https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT) ainsi. Les archives ZIP à décompresser sur des systèmes non Windows. Décompresser un fichier zip créé par une application qui cible une version antérieure du .NET Framework sur les systèmes d’exploitation non Windows tels que les ordinateurs Macintosh ne parvient pas à conserver la structure de répertoire. Par exemple, pour les ordinateurs Macintosh, il crée un ensemble de fichiers dont le nom concatène le chemin d’accès du répertoire, ainsi que les barres obliques inverses (&quot;&quot;) caractères et le nom de fichier. Par conséquent, la structure de répertoires des fichiers décompressés n’est pas conservée.|
|Suggestion|Décrit l’impact de cette modification sur. Les fichiers ZIP qui sont décompressés sur le système d’exploitation Windows via des API dans le .NET Framework <xref:System.IO?displayProperty=nameWithType> espace de noms doit être minime, car ces API peut gérer en toute transparence soit une barre oblique (&quot;/&quot;) ou une barre oblique inverse (&quot; \&quot ;) comme séparateur de chemin d’accès. Si cette modification n’est pas souhaitable, vous pouvez refuser en ajoutant un paramètre de configuration pour le [ \<runtime >](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section du fichier de configuration de votre application. L’exemple suivant montre à la fois le `<runtime>` section et `Switch.System.IO.Compression.ZipFile.UseBackslash` annulations commutateur :<pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.IO.Compression.ZipFile.UseBackslash=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>En outre, les applications qui ciblent des versions antérieures du .NET Framework mais sont exécutent sur le .NET Framework 4.6.1 et versions ultérieures peuvent s’abonner à ce comportement en ajoutant un paramètre de configuration pour le [ \<runtime >](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section du fichier de configuration d’application. L’exemple suivant montre les deux le `<runtime>` section et `Switch.System.IO.Compression.ZipFile.UseBackslash` commutateur participer.<pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.IO.Compression.ZipFile.UseBackslash=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>|
|Portée|Microsoft Edge|
|Version|4.6.1|
|Type|Reciblage|
|API affectées|<ul><li><xref:System.IO.Compression.ZipFile.CreateFromDirectory(System.String,System.String)?displayProperty=nameWithType></li><li><xref:System.IO.Compression.ZipFile.CreateFromDirectory(System.String,System.String,System.IO.Compression.CompressionLevel,System.Boolean)?displayProperty=nameWithType></li><li><xref:System.IO.Compression.ZipFile.CreateFromDirectory(System.String,System.String,System.IO.Compression.CompressionLevel,System.Boolean,System.Text.Encoding)?displayProperty=nameWithType></li></ul>|

